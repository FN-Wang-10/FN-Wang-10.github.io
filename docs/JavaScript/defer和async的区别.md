defer 和 async 是 script 标签的两个属性，**用于在不阻塞页面文档解析的前提下，控制脚本的下载和执行**。

在介绍他们之前，我们有必要先了解一下页面的加载和渲染过程：

1. 浏览器通过 HTTP 协议请求服务器，获取 HMTL 文档并开始从上到下解析，构建 DOM；
2. 在构建 DOM 过程中，如果遇到外联的样式声明和脚本声明，则暂停文档解析，创建新的网络连接，并开始下载样式文件和脚本文件；
3. 样式文件下载完成后，构建 CSSDOM；脚本文件下载完成后，解释并执行，然后继续解析文档构建 DOM
4. 完成文档解析后，将 DOM 和 CSSDOM 进行关联和映射，最后将视图渲染到浏览器窗口

在这个过程中，脚本文件的下载和执行是与文档解析同步进行，也就是说，它会阻塞文档的解析，如果控制得不好，在用户体验上就会造成一定程度的影响。  
所以我们需要清楚的了解和使用 defer 和 async 来控制外部脚本的执行。  
在开发中我们可以在 script 中声明两个不太常见的属性：defer 和 async，下面分别解释了他们的用法：

defer：用于**开启新的线程下载脚本文件，并使脚本在文档解析完成后执行**。  
async：HTML5 新增属性，用于**异步下载脚本文件，下载完毕立即解释执行代码**。

defer 属性告诉浏览器**立即下载脚本，但延迟执行，等到文档加载完成后再按照它们在页面中出现的顺序依次执行**。这意味着脚本不会阻止文档的解析和渲染，并且它们也不会阻止其他脚本的执行。如果多个脚本都使用 defer 属性，则它们将按照它们在页面中出现的顺序依次执行。

async 属性告诉浏览器**立即下载脚本**，但它们不一定按照它们在页面中出现的顺序执行。它们将在**下载完成后立即执行**。这意味着脚本不会阻止文档的解析和渲染，但可能会阻止其他脚本的执行。如果多个脚本都使用 async 属性，则它们将按照它们下载完成的顺序依次执行。
