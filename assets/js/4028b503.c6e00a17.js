"use strict";(self.webpackChunkfn_wang_10_github_io=self.webpackChunkfn_wang_10_github_io||[]).push([[30837],{33035:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>u,default:()=>i,frontMatter:()=>l,metadata:()=>a,toc:()=>s});var o=r(74848),t=r(28453);const l={},u=void 0,a={id:"Vue3/vue3\u4e2dwatch\u6df1\u5ea6\u76d1\u542c\u4e0d\u5230\u65e7\u503c\uff08\u54cd\u5e94\u5f0f\u5bf9\u8c61\u6570\u636e\uff09",title:"vue3\u4e2dwatch\u6df1\u5ea6\u76d1\u542c\u4e0d\u5230\u65e7\u503c\uff08\u54cd\u5e94\u5f0f\u5bf9\u8c61\u6570\u636e\uff09",description:"",source:"@site/docs/Vue3/vue3\u4e2dwatch\u6df1\u5ea6\u76d1\u542c\u4e0d\u5230\u65e7\u503c\uff08\u54cd\u5e94\u5f0f\u5bf9\u8c61\u6570\u636e\uff09.md",sourceDirName:"Vue3",slug:"/Vue3/vue3\u4e2dwatch\u6df1\u5ea6\u76d1\u542c\u4e0d\u5230\u65e7\u503c\uff08\u54cd\u5e94\u5f0f\u5bf9\u8c61\u6570\u636e\uff09",permalink:"/docs/Vue3/vue3\u4e2dwatch\u6df1\u5ea6\u76d1\u542c\u4e0d\u5230\u65e7\u503c\uff08\u54cd\u5e94\u5f0f\u5bf9\u8c61\u6570\u636e\uff09",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"vue3Sidebar",previous:{title:"Vue3",permalink:"/docs/Vue3/"},next:{title:"vue-router",permalink:"/docs/Vue3/vue3\u6587\u6863/vue-router"}},c={},s=[];function d(e){const n={code:"code",pre:"pre",...(0,t.R)(),...e.components};return(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"import { ref, watch, computed } from 'vue';\r\nlet obj = ref({\r\n  name: '\u609f\u7a7a',\r\n  age: 18\r\n});\r\nsetTimeout(() => {\r\n  obj.value.age = 20;\r\n}, 1000);\r\nwatch(\r\n  () => obj.value,\r\n  (newValue, oldValue) => {\r\n    // \u4e3a\u4ec0\u4e48\uff1f\r\n    // \u53ea\u4f1a\u521b\u5efa\u4e00\u4e2a\u54cd\u5e94\u5f0f\u5bf9\u8c61,\u901a\u8fc7proxy\u6765\u4ee3\u7406\u7684\r\n    console.log('newValue', newValue); // {name: '\u609f\u7a7a',age: 20}\r\n    console.log('oldValue', oldValue); // {name: '\u609f\u7a7a',age: 20}\r\n    console.log(newValue === oldValue); // true\r\n  },\r\n  {\r\n    deep: true\r\n  }\r\n);\r\n// \u89e3\u51b3\u4e00\uff08\u6bd4\u8f83\u9ebb\u70e6\uff09\r\n// \u53ea\u76d1\u542c\u5bf9\u8c61\u91cc\u9762\u7684\u67d0\u4e00\u4e2a\u503c\r\nwatch(\r\n  () => obj.age.value,\r\n  (newValue, oldValue) => {\r\n    console.log('newValue', newValue); // 20\r\n    console.log('oldValue', oldValue); // 18\r\n    console.log(newValue === oldValue); // false\r\n  },\r\n  {\r\n    deep: true\r\n  }\r\n);\r\n// \u89e3\u51b3\u4e8c(\u5bf9\u8c61\u5e8f\u5217\u5316)\r\nlet objStr = computed(() => JSON.stringify(obj.value));\r\nwatch(\r\n  () => objStr.value,\r\n  (newValue, oldValue) => {\r\n    console.log('newValue', newValue); // {name: '\u609f\u7a7a',age: 20}\r\n    console.log('oldValue', oldValue); // {name: '\u609f\u7a7a',age: 18}\r\n    console.log(newValue === oldValue); // false\r\n  },\r\n  {\r\n    deep: true\r\n  }\r\n);\n"})})}function i(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>u,x:()=>a});var o=r(96540);const t={},l=o.createContext(t);function u(e){const n=o.useContext(l);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:u(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);