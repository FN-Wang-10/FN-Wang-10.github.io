"use strict";(self.webpackChunkfn_wang_10_github_io=self.webpackChunkfn_wang_10_github_io||[]).push([[62990],{80860:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>s,contentTitle:()=>l,default:()=>f,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var o=n(85893),t=n(11151);const a={},l=void 0,i={id:"Es6/generator",title:"generator",description:"1.Generator \u51fd\u6570",source:"@site/docs/Es6/generator.md",sourceDirName:"Es6",slug:"/Es6/generator",permalink:"/docs/Es6/generator",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"es6Sidebar",previous:{title:"forEach\u3001for in\u3001for of\u4e09\u8005\u533a\u522b",permalink:"/docs/Es6/forEach\u3001for in\u3001for of\u4e09\u8005\u533a\u522b"},next:{title:"let,const,var\u7684\u533a\u522b",permalink:"/docs/Es6/let,const,var\u7684\u533a\u522b"}},s={},d=[{value:"1.Generator \u51fd\u6570",id:"1generator-\u51fd\u6570",level:2},{value:"2.\u4e0e Iterator \u63a5\u53e3\u7684\u5173\u7cfb",id:"2\u4e0e-iterator-\u63a5\u53e3\u7684\u5173\u7cfb",level:2},{value:"3.for...of \u5faa\u73af",id:"3forof-\u5faa\u73af",level:2}];function c(e){const r={a:"a",br:"br",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.h2,{id:"1generator-\u51fd\u6570",children:"1.Generator \u51fd\u6570"}),"\n",(0,o.jsxs)(r.p,{children:["Generator \u51fd\u6570\u662f ES6 \u63d0\u4f9b\u7684\u4e00\u79cd\u5f02\u6b65\u7f16\u7a0b\u89e3\u51b3\u65b9\u6848",(0,o.jsx)(r.br,{}),"\n","\u9996\u5148\u53ef\u4ee5\u628a\u5b83\u7406\u89e3\u6210\uff0cGenerator \u51fd\u6570\u662f\u4e00\u4e2a\u72b6\u6001\u673a\uff0c\u5c01\u88c5\u4e86\u591a\u4e2a\u5185\u90e8\u72b6\u6001\u3002",(0,o.jsx)(r.br,{}),"\n","\u6267\u884c Generator \u51fd\u6570\u4f1a\u8fd4\u56de\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0cGenerator \u51fd\u6570\u9664\u4e86\u72b6\u6001\u673a\uff0c\u8fd8\u662f\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61\u751f\u6210\u51fd\u6570\u3002\u8fd4\u56de\u7684\u904d\u5386\u5668\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f9d\u6b21\u904d\u5386 Generator \u51fd\u6570\u5185\u90e8\u7684\u6bcf\u4e00\u4e2a\u72b6\u6001\u3002"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-javascript",children:'// Symbol.iterator\u65b9\u6cd5\r\nlet arr = ["a", "b", "c"];\r\nlet iter = arr[Symbol.iterator](); // iter\u5c31\u662f\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61\n'})}),"\n",(0,o.jsxs)(r.p,{children:["Generator \u51fd\u6570\u662f\u4e00\u4e2a\u666e\u901a\u51fd\u6570\uff0c\u4f46\u662f\u6709\u4e24\u4e2a\u7279\u5f81",(0,o.jsx)(r.br,{}),"\n","\u4e00\u662f\uff0cfunction \u5173\u952e\u5b57\u4e0e\u51fd\u6570\u540d\u4e4b\u95f4\u6709\u4e00\u4e2a\u661f\u53f7\uff1b",(0,o.jsx)(r.br,{}),"\n","\u4e8c\u662f\uff0c\u51fd\u6570\u4f53\u5185\u90e8\u4f7f\u7528 yield \u8868\u8fbe\u5f0f\uff0c\u5b9a\u4e49\u4e0d\u540c\u7684\u5185\u90e8\u72b6\u6001\uff08yield \u5728\u82f1\u8bed\u91cc\u7684\u610f\u601d\u5c31\u662f\u201c\u4ea7\u51fa\u201d\uff09"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-javascript",children:"function* helloWorldGenerator() {\r\n  yield \"hello\";\r\n  yield \"world\";\r\n  return \"ending\";\r\n}\r\nvar hw = helloWorldGenerator(); // hw\u662f\u904d\u5386\u5668\u5bf9\u8c61\r\nhw.next();\r\n// { value: 'hello', done: false }\r\nhw.next();\r\n// { value: 'world', done: false }\r\nhw.next();\r\n// { value: 'ending', done: true }\r\nhw.next();\r\n// { value: undefined, done: true }\n"})}),"\n",(0,o.jsxs)(r.ol,{children:["\n",(0,o.jsx)(r.li,{children:"\u4e0a\u9762\u4ee3\u7801\u5b9a\u4e49\u4e86\u4e00\u4e2a Generator \u51fd\u6570 helloWorldGenerator\uff0c\u5b83\u5185\u90e8\u6709\u4e24\u4e2a yield \u8868\u8fbe\u5f0f\uff08hello \u548c world\uff09\uff0c\u5373\u8be5\u51fd\u6570\u6709\u4e09\u4e2a\u72b6\u6001\uff1ahello\uff0cworld \u548c return \u8bed\u53e5\uff08\u7ed3\u675f\u6267\u884c\uff09\u3002"}),"\n",(0,o.jsx)(r.li,{children:"\u7136\u540e\uff0cGenerator \u51fd\u6570\u7684\u8c03\u7528\u65b9\u6cd5\u4e0e\u666e\u901a\u51fd\u6570\u4e00\u6837\uff0c\u4e5f\u662f\u5728\u51fd\u6570\u540d\u540e\u9762\u52a0\u4e0a\u4e00\u5bf9\u5706\u62ec\u53f7\u3002\u4e0d\u540c\u7684\u662f\uff0c\u8c03\u7528 Generator \u51fd\u6570\u540e\uff0c\u8be5\u51fd\u6570\u5e76\u4e0d\u6267\u884c\uff0c\u8fd4\u56de\u7684\u4e5f\u4e0d\u662f\u51fd\u6570\u8fd0\u884c\u7ed3\u679c\uff0c\u800c\u662f\u4e00\u4e2a\u6307\u5411\u5185\u90e8\u72b6\u6001\u7684\u6307\u9488\u5bf9\u8c61\uff0c\u4e5f\u5c31\u662f\u4e0a\u4e00\u7ae0\u4ecb\u7ecd\u7684\u904d\u5386\u5668\u5bf9\u8c61\uff08Iterator Object\uff09\u3002"}),"\n",(0,o.jsx)(r.li,{children:"\u4e0b\u4e00\u6b65\uff0c\u5fc5\u987b\u8c03\u7528\u904d\u5386\u5668\u5bf9\u8c61\u7684 next \u65b9\u6cd5\uff0c\u4f7f\u5f97\u6307\u9488\u79fb\u5411\u4e0b\u4e00\u4e2a\u72b6\u6001\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf\u6b21\u8c03\u7528 next \u65b9\u6cd5\uff0c\u5185\u90e8\u6307\u9488\u5c31\u4ece\u51fd\u6570\u5934\u90e8\u6216\u4e0a\u4e00\u6b21\u505c\u4e0b\u6765\u7684\u5730\u65b9\u5f00\u59cb\u6267\u884c\uff0c\u76f4\u5230\u9047\u5230\u4e0b\u4e00\u4e2a yield \u8868\u8fbe\u5f0f\uff08\u6216 return \u8bed\u53e5\uff09\u4e3a\u6b62\u3002\u6362\u8a00\u4e4b\uff0cGenerator \u51fd\u6570\u662f\u5206\u6bb5\u6267\u884c\u7684\uff0cyield \u8868\u8fbe\u5f0f\u662f\u6682\u505c\u6267\u884c\u7684\u6807\u8bb0\uff0c\u800c next \u65b9\u6cd5\u53ef\u4ee5\u6062\u590d\u6267\u884c\u3002"}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"2\u4e0e-iterator-\u63a5\u53e3\u7684\u5173\u7cfb",children:"2.\u4e0e Iterator \u63a5\u53e3\u7684\u5173\u7cfb"}),"\n",(0,o.jsx)(r.p,{children:"\u7531\u4e8e Generator \u51fd\u6570\u5c31\u662f\u904d\u5386\u5668\u751f\u6210\u51fd\u6570\uff0c\u56e0\u6b64\u53ef\u4ee5\u628a Generator \u8d4b\u503c\u7ed9\u5bf9\u8c61\u7684 Symbol.iterator \u5c5e\u6027\uff0c\u4ece\u800c\u4f7f\u5f97\u8be5\u5bf9\u8c61\u5177\u6709 Iterator \u63a5\u53e3"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-javascript",children:"    var myIterable = {};\r\n    myIterable[Symbol.iterator] = function* () {\r\n      yield 1;\r\n      yield 2;\r\n      yield 3;\r\n    };\r\n\r\n    [...myIterable] // [1, 2, 3]\r\n    \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cGenerator \u51fd\u6570\u8d4b\u503c\u7ed9Symbol.iterator\u5c5e\u6027\uff0c\u4ece\u800c\u4f7f\u5f97myIterable\u5bf9\u8c61\u5177\u6709\u4e86 Iterator \u63a5\u53e3\uff0c\u53ef\u4ee5\u88ab...\u8fd0\u7b97\u7b26\u904d\u5386\u4e86\r\n\r\n    Generator \u51fd\u6570\u6267\u884c\u540e\uff0c\u8fd4\u56de\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61\u3002\u8be5\u5bf9\u8c61\u672c\u8eab\u4e5f\u5177\u6709Symbol.iterator\u5c5e\u6027\uff0c\u6267\u884c\u540e\u8fd4\u56de\u81ea\u8eab\u3002\r\n    function* gen(){\r\n      // some code\r\n    }\r\n    var g = gen();\r\n    g[Symbol.iterator]() === g  // true\r\n    \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cgen\u662f\u4e00\u4e2a Generator \u51fd\u6570\uff0c\u8c03\u7528\u5b83\u4f1a\u751f\u6210\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61g\u3002\u5b83\u7684Symbol.iterator\u5c5e\u6027\uff0c\u4e5f\u662f\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61\u751f\u6210\u51fd\u6570\uff0c\u6267\u884c\u540e\u8fd4\u56de\u5b83\u81ea\u5df1\n"})}),"\n",(0,o.jsx)(r.h2,{id:"3forof-\u5faa\u73af",children:"3.for...of \u5faa\u73af"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-javascript",children:"for...of\u5faa\u73af\u53ef\u4ee5\u81ea\u52a8\u904d\u5386 Generator \u51fd\u6570\u8fd0\u884c\u65f6\u751f\u6210\u7684Iterator\u5bf9\u8c61\uff0c\u4e14\u6b64\u65f6\u4e0d\u518d\u9700\u8981\u8c03\u7528next\u65b9\u6cd5\u3002\r\n    function* foo() {\r\n      yield 1;\r\n      yield 2;\r\n      yield 3;\r\n      yield 4;\r\n      yield 5;\r\n      return 6;\r\n    }\r\n    for (let v of foo()) {\r\n      console.log(v);\r\n    }\r\n    // 1 2 3 4 5\r\n\u4e0a\u9762\u4ee3\u7801\u4f7f\u7528for...of\u5faa\u73af\uff0c\u4f9d\u6b21\u663e\u793a 5 \u4e2ayield\u8868\u8fbe\u5f0f\u7684\u503c\u3002\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\uff0c\u4e00\u65e6next\u65b9\u6cd5\u7684\u8fd4\u56de\u5bf9\u8c61\u7684done\u5c5e\u6027\u4e3atrue\uff0cfor...of\u5faa\u73af\u5c31\u4f1a\u4e2d\u6b62\uff0c\u4e14\u4e0d\u5305\u542b\u8be5\u8fd4\u56de\u5bf9\u8c61\uff0c\u6240\u4ee5\u4e0a\u9762\u4ee3\u7801\u7684return\u8bed\u53e5\u8fd4\u56de\u76846\uff0c\u4e0d\u5305\u62ec\u5728for...of\u5faa\u73af\u4e4b\u4e2d\u3002\n"})}),"\n",(0,o.jsxs)(r.p,{children:["\u53c2\u8003\uff1a",(0,o.jsx)(r.a,{href:"https://es6.ruanyifeng.com/#docs/generator",children:"https://es6.ruanyifeng.com/#docs/generator"})]})]})}function f(e={}){const{wrapper:r}={...(0,t.a)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},11151:(e,r,n)=>{n.d(r,{Z:()=>i,a:()=>l});var o=n(67294);const t={},a=o.createContext(t);function l(e){const r=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),o.createElement(a.Provider,{value:r},e.children)}}}]);