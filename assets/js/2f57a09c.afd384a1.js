"use strict";(self.webpackChunkfn_wang_10_github_io=self.webpackChunkfn_wang_10_github_io||[]).push([[57840],{43045:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var t=r(74848),a=r(28453);const o={},s=void 0,i={id:"utils/file",title:"file",description:"",source:"@site/docs/utils/file.md",sourceDirName:"utils",slug:"/utils/file",permalink:"/docs/utils/file",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u8bf4\u8bf4\u4f60\u5bf9webpack\u7684\u7406\u89e3",permalink:"/docs/Webpack/\u8bf4\u8bf4\u4f60\u5bf9webpack\u7684\u7406\u89e3"},next:{title:"\u5176\u5b83",permalink:"/docs/\u5176\u5b83/"}},c={},d=[];function l(n){const e={code:"code",pre:"pre",...(0,a.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'/**\r\n * json \u8f6cFormData\r\n * @param    {object}  data     \u88ab\u8f6c\u6570\u636e \u5982\u679c\u662fFormData \u76f4\u63a5\u8fd4\u56de\r\n * @returns  FormData\r\n */\r\nconst jsonToFormData = (data) => {\r\n  if (data instanceof FormData) {\r\n    return data;\r\n  }\r\n  if (typeof data === "object") {\r\n    const formData = new FormData();\r\n\r\n    Object.keys(data).forEach((key) => {\r\n      if (data[key] instanceof FileList) {\r\n        Array.from(data[key]).forEach((file) => {\r\n          formData.append(key, file);\r\n        });\r\n      } else if (data[key] instanceof Array) {\r\n        data[key].forEach((file) => {\r\n          formData.append(key, file);\r\n        });\r\n      } else {\r\n        formData.append(key, data[key]);\r\n      }\r\n    });\r\n\r\n    return formData;\r\n  }\r\n\r\n  return new FormData();\r\n};\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"/**\r\n * \u6839\u636edataType \u8bbe\u7f6e request headers\r\n *\r\n * @param    {string}  dataType\r\n */\r\nconst getDataType = (dataType) => {\r\n  switch (dataType.toLowerCase()) {\r\n    case 'json':\r\n      return {\r\n        'Content-Type': 'application/json',\r\n      }; // \u6570\u636e\u683c\u5f0f\u4e3ajson\u683c\u5f0f,\u7528\u7684\u591a\r\n    case 'text':\r\n      return {\r\n        'Content-Type': 'text/plain',\r\n      }; // \u7eaf\u6587\u672c\u4f20\u8f93\uff0c\u7528\u5f97\u5c11\r\n    case 'form':\r\n      return {\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n      }; // \u6570\u636e\u683c\u5f0f\u4e3a\"key1=value1&key2=value2\"\r\n    case 'formdata':\r\n      return {\r\n        'Content-Type': 'multipart/form-data',\r\n      }; // \u7528\u6237\u4f20\u8f93\u6587\u4ef6\r\n    default:\r\n      return {};\r\n  }\r\n};\n"})})]})}function p(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(l,{...n})}):l(n)}},28453:(n,e,r)=>{r.d(e,{R:()=>s,x:()=>i});var t=r(96540);const a={},o=t.createContext(a);function s(n){const e=t.useContext(o);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:s(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);