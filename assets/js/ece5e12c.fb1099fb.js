"use strict";(self.webpackChunkfn_wang_10_github_io=self.webpackChunkfn_wang_10_github_io||[]).push([[84802],{60130:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>p,frontMatter:()=>c,metadata:()=>l,toc:()=>d});var s=r(74848),t=r(28453);const c={},i=void 0,l={id:"TypeScript/\u5bf9 TypeScript \u88c5\u9970\u5668\u7684\u7406\u89e3\uff1f\u5e94\u7528\u573a\u666f\uff1f",title:"\u5bf9 TypeScript \u88c5\u9970\u5668\u7684\u7406\u89e3\uff1f\u5e94\u7528\u573a\u666f\uff1f",description:"\u4e00\u3001\u662f\u4ec0\u4e48",source:"@site/docs/TypeScript/\u5bf9 TypeScript \u88c5\u9970\u5668\u7684\u7406\u89e3\uff1f\u5e94\u7528\u573a\u666f\uff1f.md",sourceDirName:"TypeScript",slug:"/TypeScript/\u5bf9 TypeScript \u88c5\u9970\u5668\u7684\u7406\u89e3\uff1f\u5e94\u7528\u573a\u666f\uff1f",permalink:"/docs/TypeScript/\u5bf9 TypeScript \u88c5\u9970\u5668\u7684\u7406\u89e3\uff1f\u5e94\u7528\u573a\u666f\uff1f",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"typeScriptSidebar",previous:{title:"\u5bf9 TypeScript \u7684\u7406\u89e3\uff1f\u4e0e JavaScript \u7684\u533a\u522b\uff1f",permalink:"/docs/TypeScript/\u5bf9 TypeScript \u7684\u7406\u89e3\uff1f\u4e0e JavaScript \u7684\u533a\u522b\uff1f"},next:{title:"\u5c0f\u6ee1ts",permalink:"/docs/TypeScript/\u5c0f\u6ee1ts"}},o={},d=[{value:"\u4e00\u3001\u662f\u4ec0\u4e48",id:"\u4e00\u662f\u4ec0\u4e48",level:2},{value:"\u4e8c\u3001\u4f7f\u7528\u65b9\u5f0f",id:"\u4e8c\u4f7f\u7528\u65b9\u5f0f",level:2},{value:"\u7c7b\u88c5\u9970",id:"\u7c7b\u88c5\u9970",level:3},{value:"\u65b9\u6cd5/\u5c5e\u6027\u88c5\u9970",id:"\u65b9\u6cd5\u5c5e\u6027\u88c5\u9970",level:3},{value:"\u53c2\u6570\u88c5\u9970",id:"\u53c2\u6570\u88c5\u9970",level:3},{value:"\u8bbf\u95ee\u5668\u88c5\u9970",id:"\u8bbf\u95ee\u5668\u88c5\u9970",level:3},{value:"\u88c5\u9970\u5668\u5de5\u5382",id:"\u88c5\u9970\u5668\u5de5\u5382",level:3},{value:"\u6267\u884c\u987a\u5e8f",id:"\u6267\u884c\u987a\u5e8f",level:3},{value:"\u4e09\u3001\u5e94\u7528\u573a\u666f",id:"\u4e09\u5e94\u7528\u573a\u666f",level:2},{value:"\u53c2\u8003\u6587\u732e",id:"\u53c2\u8003\u6587\u732e",level:2}];function a(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"\u4e00\u662f\u4ec0\u4e48",children:"\u4e00\u3001\u662f\u4ec0\u4e48"}),"\n",(0,s.jsx)(e.p,{children:"\u88c5\u9970\u5668\u662f\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u58f0\u660e\uff0c\u5b83\u80fd\u591f\u88ab\u9644\u52a0\u5230\u7c7b\u58f0\u660e\uff0c\u65b9\u6cd5\uff0c \u8bbf\u95ee\u7b26\uff0c\u5c5e\u6027\u6216\u53c2\u6570\u4e0a"}),"\n",(0,s.jsx)(e.p,{children:"\u662f\u4e00\u79cd\u5728\u4e0d\u6539\u53d8\u539f\u7c7b\u548c\u4f7f\u7528\u7ee7\u627f\u7684\u60c5\u51b5\u4e0b\uff0c\u52a8\u6001\u5730\u6269\u5c55\u5bf9\u8c61\u529f\u80fd"}),"\n",(0,s.jsxs)(e.p,{children:["\u540c\u6837\u7684\uff0c\u672c\u8d28\u4e5f\u4e0d\u662f\u4ec0\u4e48\u9ad8\u5927\u4e0a\u7684\u7ed3\u6784\uff0c\u5c31\u662f\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\uff0c",(0,s.jsx)(e.code,{children:"@expression"})," \u7684\u5f62\u5f0f\u5176\u5b9e\u662f",(0,s.jsx)(e.code,{children:"Object.defineProperty"}),"\u7684\u8bed\u6cd5\u7cd6"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"expression "}),"\u6c42\u503c\u540e\u5fc5\u987b\u4e5f\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5b83\u4f1a\u5728\u8fd0\u884c\u65f6\u88ab\u8c03\u7528\uff0c\u88ab\u88c5\u9970\u7684\u58f0\u660e\u4fe1\u606f\u505a\u4e3a\u53c2\u6570\u4f20\u5165"]}),"\n",(0,s.jsx)(e.h2,{id:"\u4e8c\u4f7f\u7528\u65b9\u5f0f",children:"\u4e8c\u3001\u4f7f\u7528\u65b9\u5f0f"}),"\n",(0,s.jsxs)(e.p,{children:["\u7531\u4e8e",(0,s.jsx)(e.code,{children:"typescript"}),"\u662f\u4e00\u4e2a\u5b9e\u9a8c\u6027\u7279\u6027\uff0c\u82e5\u8981\u4f7f\u7528\uff0c\u9700\u8981\u5728",(0,s.jsx)(e.code,{children:"tsconfig.json"}),"\u6587\u4ef6\u542f\u52a8\uff0c\u5982\u4e0b\uff1a"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'{\r\n    "compilerOptions": {\r\n        "target": "ES5",\r\n        "experimentalDecorators": true\r\n    }\r\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"typescript"}),"\u88c5\u9970\u5668\u7684\u4f7f\u7528\u548c",(0,s.jsx)(e.code,{children:"javascript"}),"\u57fa\u672c\u4e00\u81f4"]}),"\n",(0,s.jsx)(e.p,{children:"\u7c7b\u7684\u88c5\u9970\u5668\u53ef\u4ee5\u88c5\u9970\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u7c7b"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u65b9\u6cd5/\u5c5e\u6027"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u53c2\u6570"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u8bbf\u95ee\u5668"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u7c7b\u88c5\u9970",children:"\u7c7b\u88c5\u9970"}),"\n",(0,s.jsxs)(e.p,{children:["\u4f8b\u5982\u58f0\u660e\u4e00\u4e2a\u51fd\u6570 ",(0,s.jsx)(e.code,{children:"addAge"})," \u53bb\u7ed9 Class \u7684\u5c5e\u6027 ",(0,s.jsx)(e.code,{children:"age"})," \u6dfb\u52a0\u5e74\u9f84."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'function addAge(constructor: Function) {\r\n  constructor.prototype.age = 18;\r\n}\r\n\r\n@addAge\r\nclass Person {\r\n  name: string;\r\n  age!: number;\r\n  constructor() {\r\n    this.name = "huihui";\r\n  }\r\n}\r\n\r\nlet person = new Person();\r\n\r\nconsole.log(person.age); // 18\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u4e0a\u8ff0\u4ee3\u7801\uff0c\u5b9e\u9645\u7b49\u540c\u4e8e\u4ee5\u4e0b\u5f62\u5f0f\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"Person = addAge(function Person() { ... });\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u4e0a\u8ff0\u53ef\u4ee5\u770b\u5230\uff0c\u5f53\u88c5\u9970\u5668\u4f5c\u4e3a\u4fee\u9970\u7c7b\u7684\u65f6\u5019\uff0c\u4f1a\u628a\u6784\u9020\u5668\u4f20\u9012\u8fdb\u53bb\u3002 ",(0,s.jsx)(e.code,{children:"constructor.prototype.age"})," \u5c31\u662f\u5728\u6bcf\u4e00\u4e2a\u5b9e\u4f8b\u5316\u5bf9\u8c61\u4e0a\u9762\u6dfb\u52a0\u4e00\u4e2a ",(0,s.jsx)(e.code,{children:"age"})," \u5c5e\u6027"]}),"\n",(0,s.jsx)(e.h3,{id:"\u65b9\u6cd5\u5c5e\u6027\u88c5\u9970",children:"\u65b9\u6cd5/\u5c5e\u6027\u88c5\u9970"}),"\n",(0,s.jsx)(e.p,{children:"\u540c\u6837\uff0c\u88c5\u9970\u5668\u53ef\u4ee5\u7528\u4e8e\u4fee\u9970\u7c7b\u7684\u65b9\u6cd5\uff0c\u8fd9\u65f6\u5019\u88c5\u9970\u5668\u51fd\u6570\u63a5\u6536\u7684\u53c2\u6570\u53d8\u6210\u4e86\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"target\uff1a\u5bf9\u8c61\u7684\u539f\u578b"}),"\n",(0,s.jsx)(e.li,{children:"propertyKey\uff1a\u65b9\u6cd5\u7684\u540d\u79f0"}),"\n",(0,s.jsx)(e.li,{children:"descriptor\uff1a\u65b9\u6cd5\u7684\u5c5e\u6027\u63cf\u8ff0\u7b26"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u4e09\u4e2a\u5c5e\u6027\u5b9e\u9645\u5c31\u662f",(0,s.jsx)(e.code,{children:"Object.defineProperty"}),"\u7684\u4e09\u4e2a\u53c2\u6570\uff0c\u5982\u679c\u662f\u7c7b\u7684\u5c5e\u6027\uff0c\u5219\u6ca1\u6709\u4f20\u9012\u7b2c\u4e09\u4e2a\u53c2\u6570"]}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u4e0b\u4f8b\u5b50\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'// \u58f0\u660e\u88c5\u9970\u5668\u4fee\u9970\u65b9\u6cd5/\u5c5e\u6027\r\nfunction method(\r\n  target: any,\r\n  propertyKey: string,\r\n  descriptor: PropertyDescriptor\r\n) {\r\n  console.log(target);\r\n  console.log("prop " + propertyKey);\r\n  console.log("desc " + JSON.stringify(descriptor) + "\\n\\n");\r\n  descriptor.writable = false;\r\n}\r\n\r\nfunction property(target: any, propertyKey: string) {\r\n  console.log("target", target);\r\n  console.log("propertyKey", propertyKey);\r\n}\r\n\r\nclass Person {\r\n  @property\r\n  name: string;\r\n  constructor() {\r\n    this.name = "huihui";\r\n  }\r\n\r\n  @method\r\n  say() {\r\n    return "instance method";\r\n  }\r\n\r\n  @method\r\n  static run() {\r\n    return "static method";\r\n  }\r\n}\r\n\r\nconst xmz = new Person();\r\n\r\n// \u4fee\u6539\u5b9e\u4f8b\u65b9\u6cd5say\r\nxmz.say = function () {\r\n  return "edit";\r\n};\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u8f93\u51fa\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://static.vue-js.com/e96bc1b0-114d-11ec-8e64-91fdec0f05a1.png",alt:""})}),"\n",(0,s.jsx)(e.h3,{id:"\u53c2\u6570\u88c5\u9970",children:"\u53c2\u6570\u88c5\u9970"}),"\n",(0,s.jsx)(e.p,{children:"\u63a5\u6536 3 \u4e2a\u53c2\u6570\uff0c\u5206\u522b\u662f\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"target \uff1a\u5f53\u524d\u5bf9\u8c61\u7684\u539f\u578b"}),"\n",(0,s.jsx)(e.li,{children:"propertyKey \uff1a\u53c2\u6570\u7684\u540d\u79f0"}),"\n",(0,s.jsx)(e.li,{children:"index\uff1a\u53c2\u6570\u6570\u7ec4\u4e2d\u7684\u4f4d\u7f6e"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'function logParameter(target: Object, propertyName: string, index: number) {\r\n  console.log(target);\r\n  console.log(propertyName);\r\n  console.log(index);\r\n}\r\n\r\nclass Employee {\r\n  greet(@logParameter message: string): string {\r\n    return `hello ${message}`;\r\n  }\r\n}\r\nconst emp = new Employee();\r\nemp.greet("hello");\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u8f93\u5165\u5982\u4e0b\u56fe\uff1a"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://static.vue-js.com/f2f32de0-114d-11ec-a752-75723a64e8f5.png",alt:""})}),"\n",(0,s.jsx)(e.h3,{id:"\u8bbf\u95ee\u5668\u88c5\u9970",children:"\u8bbf\u95ee\u5668\u88c5\u9970"}),"\n",(0,s.jsx)(e.p,{children:"\u4f7f\u7528\u8d77\u6765\u65b9\u5f0f\u4e0e\u65b9\u6cd5\u88c5\u9970\u4e00\u81f4\uff0c\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'function modification(\r\n  target: Object,\r\n  propertyKey: string,\r\n  descriptor: PropertyDescriptor\r\n) {\r\n  console.log(target);\r\n  console.log("prop " + propertyKey);\r\n  console.log("desc " + JSON.stringify(descriptor) + "\\n\\n");\r\n}\r\n\r\nclass Person {\r\n  _name: string;\r\n  constructor() {\r\n    this._name = "huihui";\r\n  }\r\n\r\n  @modification\r\n  get name() {\r\n    return this._name;\r\n  }\r\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u88c5\u9970\u5668\u5de5\u5382",children:"\u88c5\u9970\u5668\u5de5\u5382"}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u60f3\u8981\u4f20\u9012\u53c2\u6570\uff0c\u4f7f\u88c5\u9970\u5668\u53d8\u6210\u7c7b\u4f3c\u5de5\u5382\u51fd\u6570\uff0c\u53ea\u9700\u8981\u5728\u88c5\u9970\u5668\u51fd\u6570\u5185\u90e8\u518d\u51fd\u6570\u4e00\u4e2a\u51fd\u6570\u5373\u53ef\uff0c\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'function addAge(age: number) {\r\n  return function (constructor: Function) {\r\n    constructor.prototype.age = age;\r\n  };\r\n}\r\n\r\n@addAge(10)\r\nclass Person {\r\n  name: string;\r\n  age!: number;\r\n  constructor() {\r\n    this.name = "huihui";\r\n  }\r\n}\r\n\r\nlet person = new Person();\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u6267\u884c\u987a\u5e8f",children:"\u6267\u884c\u987a\u5e8f"}),"\n",(0,s.jsx)(e.p,{children:"\u5f53\u591a\u4e2a\u88c5\u9970\u5668\u5e94\u7528\u4e8e\u4e00\u4e2a\u58f0\u660e\u4e0a\uff0c\u5c06\u7531\u4e0a\u81f3\u4e0b\u4f9d\u6b21\u5bf9\u88c5\u9970\u5668\u8868\u8fbe\u5f0f\u6c42\u503c\uff0c\u6c42\u503c\u7684\u7ed3\u679c\u4f1a\u88ab\u5f53\u4f5c\u51fd\u6570\uff0c\u7531\u4e0b\u81f3\u4e0a\u4f9d\u6b21\u8c03\u7528\uff0c\u4f8b\u5982\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'function f() {\r\n    console.log("f(): evaluated");\r\n    return function (target, propertyKey: string, descriptor: PropertyDescriptor) {\r\n        console.log("f(): called");\r\n    }\r\n}\r\n\r\nfunction g() {\r\n    console.log("g(): evaluated");\r\n    return function (target, propertyKey: string, descriptor: PropertyDescriptor) {\r\n        console.log("g(): called");\r\n    }\r\n}\r\n\r\nclass C {\r\n    @f()\r\n    @g()\r\n    method() {}\r\n}\r\n\r\n// \u8f93\u51fa\r\nf(): evaluated\r\ng(): evaluated\r\ng(): called\r\nf(): called\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u4e09\u5e94\u7528\u573a\u666f",children:"\u4e09\u3001\u5e94\u7528\u573a\u666f"}),"\n",(0,s.jsx)(e.p,{children:"\u53ef\u4ee5\u770b\u5230\uff0c\u4f7f\u7528\u88c5\u9970\u5668\u5b58\u5728\u4e24\u4e2a\u663e\u8457\u7684\u4f18\u70b9\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u4ee3\u7801\u53ef\u8bfb\u6027\u53d8\u5f3a\u4e86\uff0c\u88c5\u9970\u5668\u547d\u540d\u76f8\u5f53\u4e8e\u4e00\u4e2a\u6ce8\u91ca"}),"\n",(0,s.jsx)(e.li,{children:"\u5728\u4e0d\u6539\u53d8\u539f\u6709\u4ee3\u7801\u60c5\u51b5\u4e0b\uff0c\u5bf9\u539f\u6765\u529f\u80fd\u8fdb\u884c\u6269\u5c55"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u540e\u9762\u7684\u4f7f\u7528\u573a\u666f\u4e2d\uff0c\u501f\u52a9\u88c5\u9970\u5668\u7684\u7279\u6027\uff0c\u9664\u4e86\u63d0\u9ad8\u53ef\u8bfb\u6027\u4e4b\u540e\uff0c\u9488\u5bf9\u5df2\u7ecf\u5b58\u5728\u7684\u7c7b\uff0c\u53ef\u4ee5\u901a\u8fc7\u88c5\u9970\u5668\u7684\u7279\u6027\uff0c\u5728\u4e0d\u6539\u53d8\u539f\u6709\u4ee3\u7801\u60c5\u51b5\u4e0b\uff0c\u5bf9\u539f\u6765\u529f\u80fd\u8fdb\u884c\u6269\u5c55"}),"\n",(0,s.jsx)(e.h2,{id:"\u53c2\u8003\u6587\u732e",children:"\u53c2\u8003\u6587\u732e"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://www.tslang.cn/docs/handbook/decorators.html",children:"https://www.tslang.cn/docs/handbook/decorators.html"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://juejin.cn/post/6844903876605280269#heading-5",children:"https://juejin.cn/post/6844903876605280269#heading-5"})}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},28453:(n,e,r)=>{r.d(e,{R:()=>i,x:()=>l});var s=r(96540);const t={},c=s.createContext(t);function i(n){const e=s.useContext(c);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:i(n.components),s.createElement(c.Provider,{value:e},n.children)}}}]);