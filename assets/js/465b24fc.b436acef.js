"use strict";(self.webpackChunkfn_wang_10_github_io=self.webpackChunkfn_wang_10_github_io||[]).push([[6039],{80914:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>s,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});var o=r(74848),d=r(28453);const t={},c=void 0,i={id:"Vue/\u4ec0\u4e48\u662f\u865a\u62dfDOM\uff1f\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u865a\u62dfDOM\uff1f\u8bf4\u8bf4\u4f60\u7684\u601d\u8def",title:"\u4ec0\u4e48\u662f\u865a\u62dfDOM\uff1f\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u865a\u62dfDOM\uff1f\u8bf4\u8bf4\u4f60\u7684\u601d\u8def",description:"\u4e00\u3001\u4ec0\u4e48\u662f\u865a\u62df DOM",source:"@site/docs/Vue/\u4ec0\u4e48\u662f\u865a\u62dfDOM\uff1f\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u865a\u62dfDOM\uff1f\u8bf4\u8bf4\u4f60\u7684\u601d\u8def.md",sourceDirName:"Vue",slug:"/Vue/\u4ec0\u4e48\u662f\u865a\u62dfDOM\uff1f\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u865a\u62dfDOM\uff1f\u8bf4\u8bf4\u4f60\u7684\u601d\u8def",permalink:"/docs/Vue/\u4ec0\u4e48\u662f\u865a\u62dfDOM\uff1f\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u865a\u62dfDOM\uff1f\u8bf4\u8bf4\u4f60\u7684\u601d\u8def",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"vueSidebar",previous:{title:"\u4e3a\u4ec0\u4e48data\u5c5e\u6027\u662f\u4e00\u4e2a\u51fd\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u5bf9\u8c61\uff1f",permalink:"/docs/Vue/\u4e3a\u4ec0\u4e48data\u5c5e\u6027\u662f\u4e00\u4e2a\u51fd\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u5bf9\u8c61\uff1f"},next:{title:"\u4f60\u4e86\u89e3axios\u7684\u539f\u7406\u5417\uff1f\u6709\u770b\u8fc7\u5b83\u7684\u6e90\u7801\u5417\uff1f",permalink:"/docs/Vue/\u4f60\u4e86\u89e3axios\u7684\u539f\u7406\u5417\uff1f\u6709\u770b\u8fc7\u5b83\u7684\u6e90\u7801\u5417\uff1f"}},s={},a=[{value:"\u4e00\u3001\u4ec0\u4e48\u662f\u865a\u62df DOM",id:"\u4e00\u4ec0\u4e48\u662f\u865a\u62df-dom",level:2},{value:"\u4e8c\u3001\u4e3a\u4ec0\u4e48\u9700\u8981\u865a\u62df DOM",id:"\u4e8c\u4e3a\u4ec0\u4e48\u9700\u8981\u865a\u62df-dom",level:2},{value:"\u4e09\u3001\u5982\u4f55\u5b9e\u73b0\u865a\u62df DOM",id:"\u4e09\u5982\u4f55\u5b9e\u73b0\u865a\u62df-dom",level:2},{value:"\u5c0f\u7ed3",id:"\u5c0f\u7ed3",level:3},{value:"\u53c2\u8003\u6587\u732e",id:"\u53c2\u8003\u6587\u732e",level:2}];function l(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h2,{id:"\u4e00\u4ec0\u4e48\u662f\u865a\u62df-dom",children:"\u4e00\u3001\u4ec0\u4e48\u662f\u865a\u62df DOM"}),"\n",(0,o.jsxs)(e.p,{children:["\u865a\u62df DOM \uff08",(0,o.jsx)(e.code,{children:"Virtual DOM"})," \uff09\u8fd9\u4e2a\u6982\u5ff5\u76f8\u4fe1\u5927\u5bb6\u90fd\u4e0d\u964c\u751f\uff0c\u4ece ",(0,o.jsx)(e.code,{children:"React"})," \u5230 ",(0,o.jsx)(e.code,{children:"Vue"})," \uff0c\u865a\u62df ",(0,o.jsx)(e.code,{children:"DOM"})," \u4e3a\u8fd9\u4e24\u4e2a\u6846\u67b6\u90fd\u5e26\u6765\u4e86\u8de8\u5e73\u53f0\u7684\u80fd\u529b\uff08",(0,o.jsx)(e.code,{children:"React-Native"})," \u548c ",(0,o.jsx)(e.code,{children:"Weex"}),"\uff09"]}),"\n",(0,o.jsxs)(e.p,{children:["\u5b9e\u9645\u4e0a\u5b83\u53ea\u662f\u4e00\u5c42\u5bf9\u771f\u5b9e",(0,o.jsx)(e.code,{children:"DOM"}),"\u7684\u62bd\u8c61\uff0c\u4ee5",(0,o.jsx)(e.code,{children:"JavaScript"})," \u5bf9\u8c61 (",(0,o.jsx)(e.code,{children:"VNode"})," \u8282\u70b9) \u4f5c\u4e3a\u57fa\u7840\u7684\u6811\uff0c\u7528\u5bf9\u8c61\u7684\u5c5e\u6027\u6765\u63cf\u8ff0\u8282\u70b9\uff0c\u6700\u7ec8\u53ef\u4ee5\u901a\u8fc7\u4e00\u7cfb\u5217\u64cd\u4f5c\u4f7f\u8fd9\u68f5\u6811\u6620\u5c04\u5230\u771f\u5b9e\u73af\u5883\u4e0a"]}),"\n",(0,o.jsxs)(e.p,{children:["\u5728",(0,o.jsx)(e.code,{children:"Javascript"}),"\u5bf9\u8c61\u4e2d\uff0c\u865a\u62df",(0,o.jsx)(e.code,{children:"DOM"})," \u8868\u73b0\u4e3a\u4e00\u4e2a ",(0,o.jsx)(e.code,{children:"Object "}),"\u5bf9\u8c61\u3002\u5e76\u4e14\u6700\u5c11\u5305\u542b\u6807\u7b7e\u540d (",(0,o.jsx)(e.code,{children:"tag"}),")\u3001\u5c5e\u6027 (",(0,o.jsx)(e.code,{children:"attrs"}),") \u548c\u5b50\u5143\u7d20\u5bf9\u8c61 (",(0,o.jsx)(e.code,{children:"children"}),") \u4e09\u4e2a\u5c5e\u6027\uff0c\u4e0d\u540c\u6846\u67b6\u5bf9\u8fd9\u4e09\u4e2a\u5c5e\u6027\u7684\u540d\u547d\u53ef\u80fd\u4f1a\u6709\u5dee\u522b"]}),"\n",(0,o.jsxs)(e.p,{children:["\u521b\u5efa\u865a\u62df",(0,o.jsx)(e.code,{children:"DOM"}),"\u5c31\u662f\u4e3a\u4e86\u66f4\u597d\u5c06\u865a\u62df\u7684\u8282\u70b9\u6e32\u67d3\u5230\u9875\u9762\u89c6\u56fe\u4e2d\uff0c\u6240\u4ee5\u865a\u62df",(0,o.jsx)(e.code,{children:"DOM"}),"\u5bf9\u8c61\u7684\u8282\u70b9\u4e0e\u771f\u5b9e",(0,o.jsx)(e.code,{children:"DOM"}),"\u7684\u5c5e\u6027\u4e00\u4e00\u7167\u5e94"]}),"\n",(0,o.jsxs)(e.p,{children:["\u5728",(0,o.jsx)(e.code,{children:"vue"}),"\u4e2d\u540c\u6837\u4f7f\u7528\u5230\u4e86\u865a\u62df",(0,o.jsx)(e.code,{children:"DOM"}),"\u6280\u672f"]}),"\n",(0,o.jsxs)(e.p,{children:["\u5b9a\u4e49\u771f\u5b9e",(0,o.jsx)(e.code,{children:"DOM"})]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-html",children:'<div id="app">\r\n  <p class="p">\u8282\u70b9\u5185\u5bb9</p>\r\n  <h3>{{ foo }}</h3>\r\n</div>\n'})}),"\n",(0,o.jsxs)(e.p,{children:["\u5b9e\u4f8b\u5316",(0,o.jsx)(e.code,{children:"vue"})]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:'const app = new Vue({\r\n  el: "#app",\r\n  data: {\r\n    foo: "foo",\r\n  },\r\n});\n'})}),"\n",(0,o.jsxs)(e.p,{children:["\u89c2\u5bdf",(0,o.jsx)(e.code,{children:"render"}),"\u7684",(0,o.jsx)(e.code,{children:"render"}),"\uff0c\u6211\u4eec\u80fd\u5f97\u5230\u865a\u62df",(0,o.jsx)(e.code,{children:"DOM"})]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:'(function anonymous() {\r\n  with (this) {\r\n    return _c("div", { attrs: { id: "app" } }, [\r\n      _c("p", { staticClass: "p" }, [_v("\u8282\u70b9\u5185\u5bb9")]),\r\n      _v(" "),\r\n      _c("h3", [_v(_s(foo))]),\r\n    ]);\r\n  }\r\n});\n'})}),"\n",(0,o.jsxs)(e.p,{children:["\u901a\u8fc7",(0,o.jsx)(e.code,{children:"VNode"}),"\uff0c",(0,o.jsx)(e.code,{children:"vue"}),"\u53ef\u4ee5\u5bf9\u8fd9\u9897\u62bd\u8c61\u6811\u8fdb\u884c\u521b\u5efa\u8282\u70b9,\u5220\u9664\u8282\u70b9\u4ee5\u53ca\u4fee\u6539\u8282\u70b9\u7684\u64cd\u4f5c\uff0c \u7ecf\u8fc7",(0,o.jsx)(e.code,{children:"diff"}),"\u7b97\u6cd5\u5f97\u51fa\u4e00\u4e9b\u9700\u8981\u4fee\u6539\u7684\u6700\u5c0f\u5355\u4f4d,\u518d\u66f4\u65b0\u89c6\u56fe\uff0c\u51cf\u5c11\u4e86",(0,o.jsx)(e.code,{children:"dom"}),"\u64cd\u4f5c\uff0c\u63d0\u9ad8\u4e86\u6027\u80fd"]}),"\n",(0,o.jsx)(e.h2,{id:"\u4e8c\u4e3a\u4ec0\u4e48\u9700\u8981\u865a\u62df-dom",children:"\u4e8c\u3001\u4e3a\u4ec0\u4e48\u9700\u8981\u865a\u62df DOM"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"DOM"}),"\u662f\u5f88\u6162\u7684\uff0c\u5176\u5143\u7d20\u975e\u5e38\u5e9e\u5927\uff0c\u9875\u9762\u7684\u6027\u80fd\u95ee\u9898\uff0c\u5927\u90e8\u5206\u90fd\u662f\u7531",(0,o.jsx)(e.code,{children:"DOM"}),"\u64cd\u4f5c\u5f15\u8d77\u7684"]}),"\n",(0,o.jsxs)(e.p,{children:["\u771f\u5b9e\u7684",(0,o.jsx)(e.code,{children:"DOM"}),"\u8282\u70b9\uff0c\u54ea\u6015\u4e00\u4e2a\u6700\u7b80\u5355\u7684",(0,o.jsx)(e.code,{children:"div"}),"\u4e5f\u5305\u542b\u7740\u5f88\u591a\u5c5e\u6027\uff0c\u53ef\u4ee5\u6253\u5370\u51fa\u6765\u76f4\u89c2\u611f\u53d7\u4e00\u4e0b\uff1a\r\n",(0,o.jsx)(e.img,{src:"https://static.vue-js.com/cc95c7f0-442c-11eb-ab90-d9ae814b240d.png",alt:""})]}),"\n",(0,o.jsxs)(e.p,{children:["\u7531\u6b64\u53ef\u89c1\uff0c\u64cd\u4f5c",(0,o.jsx)(e.code,{children:"DOM"}),"\u7684\u4ee3\u4ef7\u4ecd\u65e7\u662f\u6602\u8d35\u7684\uff0c\u9891\u7e41\u64cd\u4f5c\u8fd8\u662f\u4f1a\u51fa\u73b0\u9875\u9762\u5361\u987f\uff0c\u5f71\u54cd\u7528\u6237\u7684\u4f53\u9a8c"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"\u4e3e\u4e2a\u4f8b\u5b50\uff1a"})}),"\n",(0,o.jsxs)(e.p,{children:["\u4f60\u7528\u4f20\u7edf\u7684\u539f\u751f",(0,o.jsx)(e.code,{children:"api"}),"\u6216",(0,o.jsx)(e.code,{children:"jQuery"}),"\u53bb\u64cd\u4f5c",(0,o.jsx)(e.code,{children:"DOM"}),"\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u4ece\u6784\u5efa",(0,o.jsx)(e.code,{children:"DOM"}),"\u6811\u5f00\u59cb\u4ece\u5934\u5230\u5c3e\u6267\u884c\u4e00\u904d\u6d41\u7a0b"]}),"\n",(0,o.jsxs)(e.p,{children:["\u5f53\u4f60\u5728\u4e00\u6b21\u64cd\u4f5c\u65f6\uff0c\u9700\u8981\u66f4\u65b0 10 \u4e2a",(0,o.jsx)(e.code,{children:"DOM"}),"\u8282\u70b9\uff0c\u6d4f\u89c8\u5668\u6ca1\u8fd9\u4e48\u667a\u80fd\uff0c\u6536\u5230\u7b2c\u4e00\u4e2a\u66f4\u65b0",(0,o.jsx)(e.code,{children:"DOM"}),"\u8bf7\u6c42\u540e\uff0c\u5e76\u4e0d\u77e5\u9053\u540e\u7eed\u8fd8\u6709 9 \u6b21\u66f4\u65b0\u64cd\u4f5c\uff0c\u56e0\u6b64\u4f1a\u9a6c\u4e0a\u6267\u884c\u6d41\u7a0b\uff0c\u6700\u7ec8\u6267\u884c 10 \u6b21\u6d41\u7a0b"]}),"\n",(0,o.jsxs)(e.p,{children:["\u800c\u901a\u8fc7",(0,o.jsx)(e.code,{children:"VNode"}),"\uff0c\u540c\u6837\u66f4\u65b0 10 \u4e2a",(0,o.jsx)(e.code,{children:"DOM"}),"\u8282\u70b9\uff0c\u865a\u62df",(0,o.jsx)(e.code,{children:"DOM"}),"\u4e0d\u4f1a\u7acb\u5373\u64cd\u4f5c",(0,o.jsx)(e.code,{children:"DOM"}),"\uff0c\u800c\u662f\u5c06\u8fd9 10 \u6b21\u66f4\u65b0\u7684",(0,o.jsx)(e.code,{children:"diff"}),"\u5185\u5bb9\u4fdd\u5b58\u5230\u672c\u5730\u7684\u4e00\u4e2a",(0,o.jsx)(e.code,{children:"js"}),"\u5bf9\u8c61\u4e2d\uff0c\u6700\u7ec8\u5c06\u8fd9\u4e2a",(0,o.jsx)(e.code,{children:"js"}),"\u5bf9\u8c61\u4e00\u6b21\u6027",(0,o.jsx)(e.code,{children:"attach"}),"\u5230",(0,o.jsx)(e.code,{children:"DOM"}),"\u6811\u4e0a\uff0c\u907f\u514d\u5927\u91cf\u7684\u65e0\u8c13\u8ba1\u7b97"]}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"\u5f88\u591a\u4eba\u8ba4\u4e3a\u865a\u62df DOM \u6700\u5927\u7684\u4f18\u52bf\u662f diff \u7b97\u6cd5\uff0c\u51cf\u5c11 JavaScript \u64cd\u4f5c\u771f\u5b9e DOM \u7684\u5e26\u6765\u7684\u6027\u80fd\u6d88\u8017\u3002\u867d\u7136\u8fd9\u4e00\u4e2a\u865a\u62df DOM \u5e26\u6765\u7684\u4e00\u4e2a\u4f18\u52bf\uff0c\u4f46\u5e76\u4e0d\u662f\u5168\u90e8\u3002\u865a\u62df DOM \u6700\u5927\u7684\u4f18\u52bf\u5728\u4e8e\u62bd\u8c61\u4e86\u539f\u672c\u7684\u6e32\u67d3\u8fc7\u7a0b\uff0c\u5b9e\u73b0\u4e86\u8de8\u5e73\u53f0\u7684\u80fd\u529b\uff0c\u800c\u4e0d\u4ec5\u4ec5\u5c40\u9650\u4e8e\u6d4f\u89c8\u5668\u7684 DOM\uff0c\u53ef\u4ee5\u662f\u5b89\u5353\u548c IOS \u7684\u539f\u751f\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u662f\u8fd1\u671f\u5f88\u706b\u70ed\u7684\u5c0f\u7a0b\u5e8f\uff0c\u4e5f\u53ef\u4ee5\u662f\u5404\u79cd GUI"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"\u4e09\u5982\u4f55\u5b9e\u73b0\u865a\u62df-dom",children:"\u4e09\u3001\u5982\u4f55\u5b9e\u73b0\u865a\u62df DOM"}),"\n",(0,o.jsxs)(e.p,{children:["\u9996\u5148\u53ef\u4ee5\u770b\u770b",(0,o.jsx)(e.code,{children:"vue"}),"\u4e2d",(0,o.jsx)(e.code,{children:"VNode"}),"\u7684\u7ed3\u6784"]}),"\n",(0,o.jsx)(e.p,{children:"\u6e90\u7801\u4f4d\u7f6e\uff1asrc/core/vdom/vnode.js"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:"export default class VNode {\r\n  tag: string | void;\r\n  data: VNodeData | void;\r\n  children: ?Array<VNode>;\r\n  text: string | void;\r\n  elm: Node | void;\r\n  ns: string | void;\r\n  context: Component | void; // rendered in this component's scope\r\n  functionalContext: Component | void; // only for functional component root nodes\r\n  key: string | number | void;\r\n  componentOptions: VNodeComponentOptions | void;\r\n  componentInstance: Component | void; // component instance\r\n  parent: VNode | void; // component placeholder node\r\n  raw: boolean; // contains raw HTML? (server only)\r\n  isStatic: boolean; // hoisted static node\r\n  isRootInsert: boolean; // necessary for enter transition check\r\n  isComment: boolean; // empty comment placeholder?\r\n  isCloned: boolean; // is a cloned node?\r\n  isOnce: boolean; // is a v-once node?\r\n\r\n  constructor(\r\n    tag?: string,\r\n    data?: VNodeData,\r\n    children?: ?Array<VNode>,\r\n    text?: string,\r\n    elm?: Node,\r\n    context?: Component,\r\n    componentOptions?: VNodeComponentOptions\r\n  ) {\r\n    /*\u5f53\u524d\u8282\u70b9\u7684\u6807\u7b7e\u540d*/\r\n    this.tag = tag;\r\n    /*\u5f53\u524d\u8282\u70b9\u5bf9\u5e94\u7684\u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u5177\u4f53\u7684\u4e00\u4e9b\u6570\u636e\u4fe1\u606f\uff0c\u662f\u4e00\u4e2aVNodeData\u7c7b\u578b\uff0c\u53ef\u4ee5\u53c2\u8003VNodeData\u7c7b\u578b\u4e2d\u7684\u6570\u636e\u4fe1\u606f*/\r\n    this.data = data;\r\n    /*\u5f53\u524d\u8282\u70b9\u7684\u5b50\u8282\u70b9\uff0c\u662f\u4e00\u4e2a\u6570\u7ec4*/\r\n    this.children = children;\r\n    /*\u5f53\u524d\u8282\u70b9\u7684\u6587\u672c*/\r\n    this.text = text;\r\n    /*\u5f53\u524d\u865a\u62df\u8282\u70b9\u5bf9\u5e94\u7684\u771f\u5b9edom\u8282\u70b9*/\r\n    this.elm = elm;\r\n    /*\u5f53\u524d\u8282\u70b9\u7684\u540d\u5b57\u7a7a\u95f4*/\r\n    this.ns = undefined;\r\n    /*\u7f16\u8bd1\u4f5c\u7528\u57df*/\r\n    this.context = context;\r\n    /*\u51fd\u6570\u5316\u7ec4\u4ef6\u4f5c\u7528\u57df*/\r\n    this.functionalContext = undefined;\r\n    /*\u8282\u70b9\u7684key\u5c5e\u6027\uff0c\u88ab\u5f53\u4f5c\u8282\u70b9\u7684\u6807\u5fd7\uff0c\u7528\u4ee5\u4f18\u5316*/\r\n    this.key = data && data.key;\r\n    /*\u7ec4\u4ef6\u7684option\u9009\u9879*/\r\n    this.componentOptions = componentOptions;\r\n    /*\u5f53\u524d\u8282\u70b9\u5bf9\u5e94\u7684\u7ec4\u4ef6\u7684\u5b9e\u4f8b*/\r\n    this.componentInstance = undefined;\r\n    /*\u5f53\u524d\u8282\u70b9\u7684\u7236\u8282\u70b9*/\r\n    this.parent = undefined;\r\n    /*\u7b80\u800c\u8a00\u4e4b\u5c31\u662f\u662f\u5426\u4e3a\u539f\u751fHTML\u6216\u53ea\u662f\u666e\u901a\u6587\u672c\uff0cinnerHTML\u7684\u65f6\u5019\u4e3atrue\uff0ctextContent\u7684\u65f6\u5019\u4e3afalse*/\r\n    this.raw = false;\r\n    /*\u9759\u6001\u8282\u70b9\u6807\u5fd7*/\r\n    this.isStatic = false;\r\n    /*\u662f\u5426\u4f5c\u4e3a\u8ddf\u8282\u70b9\u63d2\u5165*/\r\n    this.isRootInsert = true;\r\n    /*\u662f\u5426\u4e3a\u6ce8\u91ca\u8282\u70b9*/\r\n    this.isComment = false;\r\n    /*\u662f\u5426\u4e3a\u514b\u9686\u8282\u70b9*/\r\n    this.isCloned = false;\r\n    /*\u662f\u5426\u6709v-once\u6307\u4ee4*/\r\n    this.isOnce = false;\r\n  }\r\n\r\n  // DEPRECATED: alias for componentInstance for backwards compat.\r\n  /* istanbul ignore next https://github.com/answershuto/learnVue*/\r\n  get child(): Component | void {\r\n    return this.componentInstance;\r\n  }\r\n}\n"})}),"\n",(0,o.jsxs)(e.p,{children:["\u8fd9\u91cc\u5bf9",(0,o.jsx)(e.code,{children:"VNode"}),"\u8fdb\u884c\u7a0d\u5fae\u7684\u8bf4\u660e\uff1a"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\u6240\u6709\u5bf9\u8c61\u7684 ",(0,o.jsx)(e.code,{children:"context"})," \u9009\u9879\u90fd\u6307\u5411\u4e86 ",(0,o.jsx)(e.code,{children:"Vue"})," \u5b9e\u4f8b"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"elm"})," \u5c5e\u6027\u5219\u6307\u5411\u4e86\u5176\u76f8\u5bf9\u5e94\u7684\u771f\u5b9e ",(0,o.jsx)(e.code,{children:"DOM"})," \u8282\u70b9"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"vue"}),"\u662f\u901a\u8fc7",(0,o.jsx)(e.code,{children:"createElement"}),"\u751f\u6210",(0,o.jsx)(e.code,{children:"VNode"})]}),"\n",(0,o.jsx)(e.p,{children:"\u6e90\u7801\u4f4d\u7f6e\uff1asrc/core/vdom/create-element.js"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:"export function createElement(\r\n  context: Component,\r\n  tag: any,\r\n  data: any,\r\n  children: any,\r\n  normalizationType: any,\r\n  alwaysNormalize: boolean\r\n): VNode | Array<VNode> {\r\n  if (Array.isArray(data) || isPrimitive(data)) {\r\n    normalizationType = children;\r\n    children = data;\r\n    data = undefined;\r\n  }\r\n  if (isTrue(alwaysNormalize)) {\r\n    normalizationType = ALWAYS_NORMALIZE;\r\n  }\r\n  return _createElement(context, tag, data, children, normalizationType);\r\n}\n"})}),"\n",(0,o.jsxs)(e.p,{children:["\u4e0a\u9762\u53ef\u4ee5\u770b\u5230",(0,o.jsx)(e.code,{children:"createElement"})," \u65b9\u6cd5\u5b9e\u9645\u4e0a\u662f\u5bf9 ",(0,o.jsx)(e.code,{children:"_createElement"})," \u65b9\u6cd5\u7684\u5c01\u88c5\uff0c\u5bf9\u53c2\u6570\u7684\u4f20\u5165\u8fdb\u884c\u4e86\u5224\u65ad"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:"export function _createElement(\r\n    context: Component,\r\n    tag?: string | Class<Component> | Function | Object,\r\n    data?: VNodeData,\r\n    children?: any,\r\n    normalizationType?: number\r\n): VNode | Array<VNode> {\r\n    if (isDef(data) && isDef((data: any).__ob__)) {\r\n        process.env.NODE_ENV !== 'production' && warn(\r\n            `Avoid using observed data object as vnode data: ${JSON.stringify(data)}\\n` +\r\n            'Always create fresh vnode data objects in each render!',\r\n            context`\r\n        )\r\n        return createEmptyVNode()\r\n    }\r\n    // object syntax in v-bind\r\n    if (isDef(data) && isDef(data.is)) {\r\n        tag = data.is\r\n    }\r\n    if (!tag) {\r\n        // in case of component :is set to falsy value\r\n        return createEmptyVNode()\r\n    }\r\n    ...\r\n    // support single function children as default scoped slot\r\n    if (Array.isArray(children) &&\r\n        typeof children[0] === 'function'\r\n    ) {\r\n        data = data || {}\r\n        data.scopedSlots = { default: children[0] }\r\n        children.length = 0\r\n    }\r\n    if (normalizationType === ALWAYS_NORMALIZE) {\r\n        children = normalizeChildren(children)\r\n    } else if ( === SIMPLE_NORMALIZE) {\r\n        children = simpleNormalizeChildren(children)\r\n    }\r\n\t// \u521b\u5efaVNode\r\n    ...\r\n}\n"})}),"\n",(0,o.jsxs)(e.p,{children:["\u53ef\u4ee5\u770b\u5230",(0,o.jsx)(e.code,{children:"_createElement"}),"\u63a5\u6536 5 \u4e2a\u53c2\u6570\uff1a"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"context"})," \u8868\u793a ",(0,o.jsx)(e.code,{children:"VNode"})," \u7684\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u662f ",(0,o.jsx)(e.code,{children:"Component"})," \u7c7b\u578b"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:["tag \u8868\u793a\u6807\u7b7e\uff0c\u5b83\u53ef\u4ee5\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a ",(0,o.jsx)(e.code,{children:"Component"})]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"data"})," \u8868\u793a ",(0,o.jsx)(e.code,{children:"VNode"})," \u7684\u6570\u636e\uff0c\u5b83\u662f\u4e00\u4e2a ",(0,o.jsx)(e.code,{children:"VNodeData"})," \u7c7b\u578b"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"children"})," \u8868\u793a\u5f53\u524d ",(0,o.jsx)(e.code,{children:"VNode "}),"\u7684\u5b50\u8282\u70b9\uff0c\u5b83\u662f\u4efb\u610f\u7c7b\u578b\u7684"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"normalizationType"})," \u8868\u793a\u5b50\u8282\u70b9\u89c4\u8303\u7684\u7c7b\u578b\uff0c\u7c7b\u578b\u4e0d\u540c\u89c4\u8303\u7684\u65b9\u6cd5\u4e5f\u5c31\u4e0d\u4e00\u6837\uff0c\u4e3b\u8981\u662f\u53c2\u8003 ",(0,o.jsx)(e.code,{children:"render"})," \u51fd\u6570\u662f\u7f16\u8bd1\u751f\u6210\u7684\u8fd8\u662f\u7528\u6237\u624b\u5199\u7684"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["\u6839\u636e",(0,o.jsx)(e.code,{children:"normalizationType"})," \u7684\u7c7b\u578b\uff0c",(0,o.jsx)(e.code,{children:"children"}),"\u4f1a\u6709\u4e0d\u540c\u7684\u5b9a\u4e49"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:"if (normalizationType === ALWAYS_NORMALIZE) {\r\n    children = normalizeChildren(children)\r\n} else if ( === SIMPLE_NORMALIZE) {\r\n    children = simpleNormalizeChildren(children)\r\n}\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"simpleNormalizeChildren"}),"\u65b9\u6cd5\u8c03\u7528\u573a\u666f\u662f ",(0,o.jsx)(e.code,{children:"render"})," \u51fd\u6570\u662f\u7f16\u8bd1\u751f\u6210\u7684"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"normalizeChildren"}),"\u65b9\u6cd5\u8c03\u7528\u573a\u666f\u5206\u4e3a\u4e0b\u9762\u4e24\u79cd\uff1a"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"render"})," \u51fd\u6570\u662f\u7528\u6237\u624b\u5199\u7684"]}),"\n",(0,o.jsxs)(e.li,{children:["\u7f16\u8bd1 ",(0,o.jsx)(e.code,{children:"slot"}),"\u3001",(0,o.jsx)(e.code,{children:"v-for"})," \u7684\u65f6\u5019\u4f1a\u4ea7\u751f\u5d4c\u5957\u6570\u7ec4"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["\u65e0\u8bba\u662f",(0,o.jsx)(e.code,{children:"simpleNormalizeChildren"}),"\u8fd8\u662f",(0,o.jsx)(e.code,{children:"normalizeChildren"}),"\u90fd\u662f\u5bf9",(0,o.jsx)(e.code,{children:"children"}),"\u8fdb\u884c\u89c4\u8303\uff08\u4f7f",(0,o.jsx)(e.code,{children:"children"})," \u53d8\u6210\u4e86\u4e00\u4e2a\u7c7b\u578b\u4e3a ",(0,o.jsx)(e.code,{children:"VNode"})," \u7684 ",(0,o.jsx)(e.code,{children:"Array"}),"\uff09\uff0c\u8fd9\u91cc\u5c31\u4e0d\u5c55\u5f00\u8bf4\u4e86"]}),"\n",(0,o.jsxs)(e.p,{children:["\u89c4\u8303\u5316",(0,o.jsx)(e.code,{children:"children"}),"\u7684\u6e90\u7801\u4f4d\u7f6e\u5728\uff1asrc/core/vdom/helpers/normalzie-children.js"]}),"\n",(0,o.jsxs)(e.p,{children:["\u5728\u89c4\u8303\u5316",(0,o.jsx)(e.code,{children:"children"}),"\u540e\uff0c\u5c31\u53bb\u521b\u5efa",(0,o.jsx)(e.code,{children:"VNode"})]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:'let vnode, ns;\r\n// \u5bf9tag\u8fdb\u884c\u5224\u65ad\r\nif (typeof tag === "string") {\r\n  let Ctor;\r\n  ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);\r\n  if (config.isReservedTag(tag)) {\r\n    // \u5982\u679c\u662f\u5185\u7f6e\u7684\u8282\u70b9\uff0c\u5219\u76f4\u63a5\u521b\u5efa\u4e00\u4e2a\u666e\u901aVNode\r\n    vnode = new VNode(\r\n      config.parsePlatformTagName(tag),\r\n      data,\r\n      children,\r\n      undefined,\r\n      undefined,\r\n      context\r\n    );\r\n  } else if (\r\n    isDef((Ctor = resolveAsset(context.$options, "components", tag)))\r\n  ) {\r\n    // component\r\n    // \u5982\u679c\u662fcomponent\u7c7b\u578b\uff0c\u5219\u4f1a\u901a\u8fc7createComponent\u521b\u5efaVNode\u8282\u70b9\r\n    vnode = createComponent(Ctor, data, context, children, tag);\r\n  } else {\r\n    vnode = new VNode(tag, data, children, undefined, undefined, context);\r\n  }\r\n} else {\r\n  // direct component options / constructor\r\n  vnode = createComponent(tag, data, context, children);\r\n}\n'})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"createComponent"}),"\u540c\u6837\u662f\u521b\u5efa",(0,o.jsx)(e.code,{children:"VNode"})]}),"\n",(0,o.jsx)(e.p,{children:"\u6e90\u7801\u4f4d\u7f6e\uff1asrc/core/vdom/create-component.js"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:'export function createComponent(\r\n  Ctor: Class<Component> | Function | Object | void,\r\n  data: ?VNodeData,\r\n  context: Component,\r\n  children: ?Array<VNode>,\r\n  tag?: string\r\n): VNode | Array<VNode> | void {\r\n  if (isUndef(Ctor)) {\r\n    return;\r\n  }\r\n  // \u6784\u5efa\u5b50\u7c7b\u6784\u9020\u51fd\u6570\r\n  const baseCtor = context.$options._base;\r\n\r\n  // plain options object: turn it into a constructor\r\n  if (isObject(Ctor)) {\r\n    Ctor = baseCtor.extend(Ctor);\r\n  }\r\n\r\n  // if at this stage it\'s not a constructor or an async component factory,\r\n  // reject.\r\n  if (typeof Ctor !== "function") {\r\n    if (process.env.NODE_ENV !== "production") {\r\n      warn(`Invalid Component definition: ${String(Ctor)}`, context);\r\n    }\r\n    return;\r\n  }\r\n\r\n  // async component\r\n  let asyncFactory;\r\n  if (isUndef(Ctor.cid)) {\r\n    asyncFactory = Ctor;\r\n    Ctor = resolveAsyncComponent(asyncFactory, baseCtor, context);\r\n    if (Ctor === undefined) {\r\n      return createAsyncPlaceholder(asyncFactory, data, context, children, tag);\r\n    }\r\n  }\r\n\r\n  data = data || {};\r\n\r\n  // resolve constructor options in case global mixins are applied after\r\n  // component constructor creation\r\n  resolveConstructorOptions(Ctor);\r\n\r\n  // transform component v-model data into props & events\r\n  if (isDef(data.model)) {\r\n    transformModel(Ctor.options, data);\r\n  }\r\n\r\n  // extract props\r\n  const propsData = extractPropsFromVNodeData(data, Ctor, tag);\r\n\r\n  // functional component\r\n  if (isTrue(Ctor.options.functional)) {\r\n    return createFunctionalComponent(Ctor, propsData, data, context, children);\r\n  }\r\n\r\n  // extract listeners, since these needs to be treated as\r\n  // child component listeners instead of DOM listeners\r\n  const listeners = data.on;\r\n  // replace with listeners with .native modifier\r\n  // so it gets processed during parent component patch.\r\n  data.on = data.nativeOn;\r\n\r\n  if (isTrue(Ctor.options.abstract)) {\r\n    const slot = data.slot;\r\n    data = {};\r\n    if (slot) {\r\n      data.slot = slot;\r\n    }\r\n  }\r\n\r\n  // \u5b89\u88c5\u7ec4\u4ef6\u94a9\u5b50\u51fd\u6570\uff0c\u628a\u94a9\u5b50\u51fd\u6570\u5408\u5e76\u5230data.hook\u4e2d\r\n  installComponentHooks(data);\r\n\r\n  //\u5b9e\u4f8b\u5316\u4e00\u4e2aVNode\u8fd4\u56de\u3002\u7ec4\u4ef6\u7684VNode\u662f\u6ca1\u6709children\u7684\r\n  const name = Ctor.options.name || tag;\r\n  const vnode = new VNode(\r\n    `vue-component-${Ctor.cid}${name ? `-${name}` : ""}`,\r\n    data,\r\n    undefined,\r\n    undefined,\r\n    undefined,\r\n    context,\r\n    { Ctor, propsData, listeners, tag, children },\r\n    asyncFactory\r\n  );\r\n  if (__WEEX__ && isRecyclableComponent(vnode)) {\r\n    return renderRecyclableComponentTemplate(vnode);\r\n  }\r\n\r\n  return vnode;\r\n}\n'})}),"\n",(0,o.jsxs)(e.p,{children:["\u7a0d\u5fae\u63d0\u4e0b",(0,o.jsx)(e.code,{children:"createComponent"}),"\u751f\u6210",(0,o.jsx)(e.code,{children:"VNode"}),"\u7684\u4e09\u4e2a\u5173\u952e\u6d41\u7a0b\uff1a"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\u6784\u9020\u5b50\u7c7b\u6784\u9020\u51fd\u6570",(0,o.jsx)(e.code,{children:"Ctor "})]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"installComponentHooks"}),"\u5b89\u88c5\u7ec4\u4ef6\u94a9\u5b50\u51fd\u6570"]}),"\n",(0,o.jsxs)(e.li,{children:["\u5b9e\u4f8b\u5316 ",(0,o.jsx)(e.code,{children:"vnode"})]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"\u5c0f\u7ed3",children:"\u5c0f\u7ed3"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"createElement"})," \u521b\u5efa ",(0,o.jsx)(e.code,{children:"VNode"})," \u7684\u8fc7\u7a0b\uff0c\u6bcf\u4e2a ",(0,o.jsx)(e.code,{children:"VNode"})," \u6709 ",(0,o.jsx)(e.code,{children:"children"}),"\uff0c",(0,o.jsx)(e.code,{children:"children"})," \u6bcf\u4e2a\u5143\u7d20\u4e5f\u662f\u4e00\u4e2a",(0,o.jsx)(e.code,{children:"VNode"}),"\uff0c\u8fd9\u6837\u5c31\u5f62\u6210\u4e86\u4e00\u4e2a\u865a\u62df\u6811\u7ed3\u6784\uff0c\u7528\u4e8e\u63cf\u8ff0\u771f\u5b9e\u7684",(0,o.jsx)(e.code,{children:"DOM"}),"\u6811\u7ed3\u6784"]}),"\n",(0,o.jsx)(e.h2,{id:"\u53c2\u8003\u6587\u732e",children:"\u53c2\u8003\u6587\u732e"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://ustbhuangyi.github.io/vue-analysis/v2/data-driven/create-element.html#children-%E7%9A%84%E8%A7%84%E8%8C%83%E5%8C%96",children:"https://ustbhuangyi.github.io/vue-analysis/v2/data-driven/create-element.html#children-%E7%9A%84%E8%A7%84%E8%8C%83%E5%8C%96"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://juejin.cn/post/6876711874050818061",children:"https://juejin.cn/post/6876711874050818061"})}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,d.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(l,{...n})}):l(n)}},28453:(n,e,r)=>{r.d(e,{R:()=>c,x:()=>i});var o=r(96540);const d={},t=o.createContext(d);function c(n){const e=o.useContext(t);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:c(n.components),o.createElement(t.Provider,{value:e},n.children)}}}]);