"use strict";(self.webpackChunkfn_wang_10_github_io=self.webpackChunkfn_wang_10_github_io||[]).push([[83295],{90070:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>o});var t=r(85893),s=r(11151);const i={},l=void 0,c={id:"\u5176\u5b83/\u524d\u7aef\u6ce8\u91ca\u89c4\u8303",title:"\u524d\u7aef\u6ce8\u91ca\u89c4\u8303",description:"JavaScript \u6ce8\u91ca",source:"@site/docs/\u5176\u5b83/\u524d\u7aef\u6ce8\u91ca\u89c4\u8303.md",sourceDirName:"\u5176\u5b83",slug:"/\u5176\u5b83/\u524d\u7aef\u6ce8\u91ca\u89c4\u8303",permalink:"/docs/\u5176\u5b83/\u524d\u7aef\u6ce8\u91ca\u89c4\u8303",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"otherSidebar",previous:{title:"\u524d\u7aef\u6027\u80fd\u4f18\u5316",permalink:"/docs/\u5176\u5b83/\u524d\u7aef\u6027\u80fd\u4f18\u5316"},next:{title:"\u524d\u7aef\u767b\u5f55\uff0c\u8fd9\u4e00\u7bc7\u5c31\u591f\u4e86",permalink:"/docs/\u5176\u5b83/\u524d\u7aef\u767b\u5f55\uff0c\u8fd9\u4e00\u7bc7\u5c31\u591f\u4e86"}},a={},o=[{value:"1. \u6ce8\u91ca\u89c4\u8303",id:"1-\u6ce8\u91ca\u89c4\u8303",level:2},{value:"1.1 \u5355\u884c\u6ce8\u91ca",id:"11-\u5355\u884c\u6ce8\u91ca",level:3},{value:"1.1.1 \u573a\u666f",id:"111-\u573a\u666f",level:4},{value:"1.1.2 \u683c\u5f0f",id:"112-\u683c\u5f0f",level:4},{value:"1.1.3 \u793a\u4f8b",id:"113-\u793a\u4f8b",level:4},{value:"1.2 \u51fd\u6570\u6ce8\u91ca",id:"12-\u51fd\u6570\u6ce8\u91ca",level:3},{value:"1.2.1 \u573a\u666f",id:"121-\u573a\u666f",level:4},{value:"1.2.2 \u683c\u5f0f",id:"122-\u683c\u5f0f",level:4},{value:"1.2.3 \u793a\u4f8b",id:"123-\u793a\u4f8b",level:4},{value:"1.3 \u6587\u4ef6\u6ce8\u91ca",id:"13-\u6587\u4ef6\u6ce8\u91ca",level:2},{value:"2. \u53c2\u8003\u6587\u6863",id:"2-\u53c2\u8003\u6587\u6863",level:2}];function d(n){const e={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.p,{children:"JavaScript \u6ce8\u91ca"}),"\n",(0,t.jsx)(e.h2,{id:"1-\u6ce8\u91ca\u89c4\u8303",children:"1. \u6ce8\u91ca\u89c4\u8303"}),"\n",(0,t.jsx)(e.p,{children:"\u9274\u4e8e JavaScript \u4e0e\u5176\u4ed6\u8bed\u8a00\u7684\u7279\u6b8a\u6027\uff0c\u518d\u7ed3\u5408\u516c\u53f8\u7684\u5b9e\u9645\u4e1a\u52a1\u60c5\u51b5\uff0c\u76ee\u524d\u5efa\u8bae\u53ea\u89c4\u8303\u4e24\u79cd\u6ce8\u91ca\uff0c\u5373\uff1a\u5355\u884c\u6ce8\u91ca\u548c\u51fd\u6570\u6ce8\u91ca\uff0c\u6700\u591a\u518d\u652f\u6301\u4e00\u4e2a\u6587\u4ef6\u6ce8\u91ca\u3002"}),"\n",(0,t.jsx)(e.h3,{id:"11-\u5355\u884c\u6ce8\u91ca",children:"1.1 \u5355\u884c\u6ce8\u91ca"}),"\n",(0,t.jsx)(e.h4,{id:"111-\u573a\u666f",children:"1.1.1 \u573a\u666f"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"TODO \u9879"}),"\n",(0,t.jsx)(e.li,{children:"\u4e0d\u592a\u590d\u6742\u51fd\u6570"}),"\n",(0,t.jsx)(e.li,{children:"\u65e0\u5165\u53c2\u51fd\u6570"}),"\n",(0,t.jsx)(e.li,{children:"\u51fd\u6570\u4f53\u5185"}),"\n",(0,t.jsx)(e.li,{children:"\u5168\u5c40\u914d\u7f6e\u9879"}),"\n",(0,t.jsx)(e.li,{children:"state \u6216\u8005\u89e3\u6784\u53d8\u91cf\u504f\u591a\u65f6"}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"112-\u683c\u5f0f",children:"1.1.2 \u683c\u5f0f"}),"\n",(0,t.jsxs)(e.p,{children:["\u4ee5",(0,t.jsx)(e.code,{children:"//"}),"\u5f00\u5934\uff0c\u540e\u8ddf\u4e00\u4e2a\u7a7a\u683c\uff0c\u7a7a\u683c\u540e\u52a0\u6ce8\u91ca\u6587\u5b57\uff0c\u5efa\u8bae\u4e2d\u6587\uff0c\u5176\u4ed6\u8bed\u8a00\u53ef\u80fd\u770b\u4e0d\u61c2\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"// \u8fd9\u662f\u4e00\u4e2a\u6ce8\u91ca\uff0c\u6ce8\u610f\u524d\u8fb9\u6709\u4e00\u4e2a\u7a7a\u683c\n"})}),"\n",(0,t.jsx)(e.h4,{id:"113-\u793a\u4f8b",children:"1.1.3 \u793a\u4f8b"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"TODO \u9879"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'// TODO \u4e0a\u7ebf\u4e4b\u524d\u5220\u9664\u8fd9\u91cc\r\nwindow.debug = "true";\n'})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4e0d\u592a\u590d\u6742\u51fd\u6570\uff0c"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5176\u5b9e\u8fd9\u79cd\u60c5\u51b5\u53ef\u52a0\u53ef\u4e0d\u52a0\uff0c\u4f46\u662f\u5728\u67d0\u79cd\u6781\u7aef\u60c5\u51b5\uff0c\u6bd4\u5982\u4e00\u4e2a\u6587\u4ef6\u5185\u6709\u4e09\u4e2a\u51fd\u6570\uff0c\u53e6\u5916\u4e24\u4e2a\u90fd\u6709\u6ce8\u91ca\uff0c\u90a3\u4e48\u4e3a\u4e86\u5185\u5fc3\u7684\u4e00\u70b9\u70b9\u5f3a\u8feb\u75c7\uff0c\u4f60\u5c31\u6709\u53ef\u80fd\u7ed9\u53e6\u5916\u4e00\u4e2a\u51fd\u6570\u52a0\u4e0a\u6ce8\u91ca\u3002"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"// \u5224\u65ad\u4e24\u4e2a\u57fa\u7840\u7c7b\u578b\u6570\u636e\u503c\u662f\u5426\u76f8\u7b49\r\n// tips\uff1a\u6b64\u5904\u8ba4\u4e3a\u6570\u5b571\u4e0e\u5b57\u7b26\u4e32\u76841\u662f\u76f8\u7b49\u7684\uff0c\u5e38\u7528\u5728\u5f53\u4e0d\u77e5\u90531\u662f\u5b57\u7b26\u4e32\u8fd8\u662f\u6570\u636e\u7684\u65f6\u5019\r\nexport const isEqual = (value, other) => Number(value) === Number(other);\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u65e0\u5165\u53c2\u51fd\u6570"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"// \u5224\u65ad\u5f53\u524d\u8bbe\u5907\u662f\u5426\u4e3aiphoneX\r\nexport function isIphoneX() {\r\n  if (isIOS()) {\r\n    const X_WIDTH = 375;\r\n    const X_HEIGHT = 812;\r\n\r\n    const XSR_WIDTH = 414;\r\n    const XSR_HEIGHT = 896;\r\n\r\n    const D_HEIGHT =\r\n      window.innerWidth ||\r\n      document.documentElement.clientWidth ||\r\n      document.body.clientWidth;\r\n    const D_WIDTH =\r\n      window.innerHeight ||\r\n      document.documentElement.clientHeight ||\r\n      document.body.clientHeight;\r\n\r\n    return (\r\n      (isIOS() &&\r\n        ((D_HEIGHT === X_HEIGHT && D_WIDTH === X_WIDTH) ||\r\n          (D_HEIGHT === X_WIDTH && D_WIDTH === X_HEIGHT))) ||\r\n      (D_HEIGHT === XSR_WIDTH && D_WIDTH === XSR_HEIGHT) ||\r\n      (D_HEIGHT === XSR_HEIGHT && D_WIDTH === XSR_WIDTH)\r\n    );\r\n  }\r\n\r\n  return false;\r\n}\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u51fd\u6570\u4f53\u5185"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'// \u5904\u7406\u4f18\u60e0\u5238\u9009\u4e2d\u903b\u8f91\r\nhandleSelectCoupon = async (coupon) => {\r\n  if (coupon) {\r\n    // \u5904\u7406\u6709\u4f18\u60e0\u5238\u9009\u4e2d\r\n    const { getDiscountAmount } = this.props;\r\n    const { outOrderId } = this.state;\r\n    const { couponId } = coupon || {};\r\n\r\n    LOG_COUPON_SELECTED_SHOW();\r\n\r\n    getDiscountAmount({ outOrderId, couponId }).then((result) => {\r\n      if (result) {\r\n        const { deductibleAmount } = result;\r\n\r\n        this.setCouponState(couponId, deductibleAmount);\r\n      }\r\n    });\r\n  } else {\r\n    // \u5904\u7406\u70b9\u51fb\u4e0d\u4f7f\u7528\u4f18\u60e0\u5238\r\n    // \u5b9a\u4e49\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u4f18\u60e0\u5238\u6807\u8bc6 \u4ee3\u8868\u4e0d\u4f7f\u7528\u4f18\u60e0\u5238\u7684\u64cd\u4f5c\r\n    this.setCouponState("-1", 0);\r\n  }\r\n};\n'})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5168\u5c40\u914d\u7f6e\u9879"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"// \u662f\u5426\u6b63\u5728\u8c03\u7528\u662f\u5426\u53ef\u5f00\u53d1\u7968\u63a5\u53e3\r\nlet isQueryingInvoice = false;\r\n\r\n// \u81ea\u52a8\u652f\u4ed8\u5012\u8ba1\u65f6timer\uff0c\u9ed8\u8ba43\u79d2\uff0c\u7ed3\u675f\u6e05\u9664\r\nlet autoPayCountTimer = null;\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"state \u6216\u8005\u89e3\u6784\u53d8\u91cf\u504f\u591a\u65f6"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"this.state = {\r\n  // \u5f53\u524d\u9875\u9762\u8ba2\u5355id\r\n  outOrderId,\r\n\r\n  // \u652f\u4ed8\u9762\u677f\u63a7\u5236\u5f00\u5173\r\n  visible: false,\r\n\r\n  // \u662f\u5426\u6b63\u5728\u81ea\u52a8\u652f\u4ed8\r\n  isAutoPaying: false,\r\n  // \u81ea\u52a8\u652f\u4ed8\u5012\u8ba1\u65f6\u5f00\u59cb\u79d2\u6570\r\n  autoPaySeconds: 3,\r\n\r\n  // \u4f59\u989d\r\n  balance: undefined,\r\n  // \u9700\u8981\u652f\u4ed8\u7684\u91d1\u989d\r\n  needPayAmount: null,\r\n\r\n  // \u4f18\u60e0\u5238\u9762\u677f\u63a7\u5236\u5f00\u5173\r\n  visibleCoupon: false,\r\n  // \u662f\u5426\u5237\u65b0\u4f18\u60e0\u5238\r\n  refreshCoupon: 0,\r\n  // \u9009\u4e2d\u4f18\u60e0\u5238\r\n  selectedCoupon: null,\r\n};\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"const {\r\n  orderDetail: {\r\n    // \u56fd\u7f51\u505c\u6b62\u5145\u7535code, \u53ea\u6709\u56fd\u7f51\u6e20\u9053\u624d\u5b58\u5728\r\n    gwStopChargeCode = false,\r\n    // \u8ba2\u5355\u72b6\u6001 [8:\u5f85\u652f\u4ed8, 2:\u5df2\u652f\u4ed8]\r\n    status,\r\n    // \u603b\u8ba1\u5f00\u59cb\u5145\u7535\u65f6\u95f4\r\n    beginTime,\r\n    // \u603b\u8ba1\u7ed3\u675f\u5145\u7535\u65f6\u95f4\r\n    endTime,\r\n\r\n    // \u540e\u7aef\u63a8\u8350\u4f18\u60e0\u5238\u6298\u6263\u91d1\u989d\r\n    couponDeductibleAmount = 0,\r\n    // \u4f18\u60e0\u5238\u662f\u5426\u9501\u5b9a\r\n    syncCoupon,\r\n    // \u968f\u673a\u7acb\u51cf\u91d1\u989d\r\n    quickPayDeductedAmount = 0,\r\n    // \u4f59\u989d\u652f\u4ed8, \u5305\u542b\u652f\u4ed8\u5177\u4f53\u7ec6\u8282\r\n    // @const {Object} orderPayInfo - \u652f\u4ed8\u8be6\u60c5\u5bf9\u8c61\r\n    // @const {Number} orderPayInfo.balanceAmount - \u4f59\u989d\u652f\u4ed8\u91d1\u989d\r\n    // @const {Number} orderPayInfo.thirdAmount - \u7b2c\u4e09\u65b9\u652f\u4ed8\u91d1\u989d\r\n    // @const {Number} orderPayInfo.payType - \u7b2c\u4e09\u65b9\u652f\u4ed8\u65b9\u5f0f\r\n    orderPayInfo,\r\n\r\n    // \u5177\u4f53\u5145\u7535\u8be6\u60c5, \u5206\u65f6\u6bb5 | \u5c16\u5cf0\u5e73\u8c37\r\n    // @const {Object[]} orderDetails - \u5206\u65f6\u6bb5\u5145\u7535\u8be6\u60c5\r\n    // @const {String} orderDetails[].detailRange - \u5206\u65f6\u6bb5\u548c\u5c16\u5cf0\u5e73\u8c37\u5177\u4f53\u5b57\u7b26\u4e32\r\n    // @const {Number} orderDetails[].detailPower - \u5404\u4e2a\u65f6\u6bb5\u5145\u7535\u91cf\r\n    // @const {Number} orderDetails[].detailPrice - \u5404\u4e2a\u65f6\u6bb5\u7535\u4ef7\r\n    orderDetails,\r\n\r\n    // \u662f\u5426\u652f\u6301\u6253\u5370\u505c\u8f66\u5c0f\u7968\r\n    parkingTicketType,\r\n  },\r\n} = this.props;\n"})}),"\n",(0,t.jsx)(e.h3,{id:"12-\u51fd\u6570\u6ce8\u91ca",children:"1.2 \u51fd\u6570\u6ce8\u91ca"}),"\n",(0,t.jsx)(e.h4,{id:"121-\u573a\u666f",children:"1.2.1 \u573a\u666f"}),"\n",(0,t.jsx)(e.p,{children:"\u7528\u4e8e\u6ce8\u91ca\u903b\u8f91\u8f83\u4e3a\u590d\u6742\uff0c\u4e14\u53c2\u6570\u82e5\u5e72\uff0c\u4e0d\u80fd\u76f4\u63a5\u770b\u51fa\u53c2\u6570\u4f5c\u7528\u7684\u60c5\u51b5\u3002"}),"\n",(0,t.jsx)(e.h4,{id:"122-\u683c\u5f0f",children:"1.2.2 \u683c\u5f0f"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"/**\r\n * xxx \u8fd9\u91cc\u63cf\u8ff0\u51fd\u6570\u4f5c\u7528 xxx\r\n * @param {number} a xxx\u8fd9\u91cc\u63cf\u8ff0\u53c2\u6570\u4f5c\u7528xxx\r\n * @param {number} b xxx\u8fd9\u91cc\u63cf\u8ff0\u53e6\u4e00\u4e2a\u53c2\u6570\u4f5c\u7528xxx\r\n * @returns {number} xxx\u8fd9\u91cc\u63cf\u8ff0\u8fd4\u56de\u503c\u542b\u4e49xxx\r\n */\r\nfunction sum(a, b) {\r\n  return a + b;\r\n}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"123-\u793a\u4f8b",children:"1.2.3 \u793a\u4f8b"}),"\n",(0,t.jsxs)(e.p,{children:["\u5177\u4f53\u60f3\u77e5\u9053@\u540e\u8fb9\u5e94\u8be5\u8ddf\u4ec0\u4e48\uff0c\u4ee5\u53ca","\u5185\u7684\u7c7b\u578b\u5e94\u8be5\u600e\u4e48\u5199\uff0c\u53ef\u4ee5\u67e5\u9605\u8be5 JSDoc \u6587\u6863"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"/**\r\n * \u5224\u65ad\u6570\u636e\u7684\u957f\u5ea6\r\n * @param {number|string|object|array} value \u5f85\u8ba1\u7b97\u6570\u503c\r\n * @return {number} \u4f20\u5165\u6570\u636e\u7684\u957f\u5ea6\uff0c\u5982\u679c\u662f\u5bf9\u8c61\uff0c\u5219\u4e3a\u5176\u5305\u542bkey-value\u952e\u503c\u5bf9\u7684\u6570\u91cf\r\n * @example\r\n * \tgetLength(12345); // 5\r\n * \tgetLength('1234'); // 4\r\n * \tgetLength([1, 2, 3]); // 3\r\n * \tgetLength({ name: 'andy', age: 12 }); // 2\r\n */\r\nexport const getLength = (value) => {\r\n  if (isNumber(value)) {\r\n    return String(value).length;\r\n  }\r\n\r\n  if (isObject(value)) {\r\n    return Object.keys(value).length;\r\n  }\r\n\r\n  return value.length;\r\n};\n"})}),"\n",(0,t.jsx)(e.h2,{id:"13-\u6587\u4ef6\u6ce8\u91ca",children:"1.3 \u6587\u4ef6\u6ce8\u91ca"}),"\n",(0,t.jsx)(e.p,{children:"\u9274\u4e8e\u6587\u4ef6\u6ce8\u91ca\u57fa\u672c\u7528\u4e0d\u5230\uff0c\u5c31\u4e0d\u5217\u4e3e\u90a3\u4e48\u8be6\u7ec6\u4e86\uff0c\u53ea\u5217\u4e00\u4e2a\u6a21\u677f\u597d\u4e86\u3002"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"/*!\r\n * \u8fd9\u91cc\u63cf\u8ff0\u6587\u4ef6\u4e3b\u8981\u4f5c\u7528\r\n *\r\n * \u8fd9\u91cc\u63cf\u8ff0\u6587\u4ef6\u8be6\u7ec6\u4f5c\u7528\r\n *\r\n * @author: wangyuan\r\n * @Date: 2020/11/13\r\n *\r\n */\n"})}),"\n",(0,t.jsx)(e.h2,{id:"2-\u53c2\u8003\u6587\u6863",children:"2. \u53c2\u8003\u6587\u6863"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.a,{href:"https://jsdoc.app/index.html",children:"https://jsdoc.app/index.html"}),(0,t.jsx)(e.br,{}),"\n",(0,t.jsx)(e.a,{href:"https://www.html.cn/doc/jsdoc/tags-example.html",children:"https://www.html.cn/doc/jsdoc/tags-example.html"}),(0,t.jsx)(e.br,{}),"\n",(0,t.jsx)(e.a,{href:"https://github.com/yuche/javascript#comments",children:"https://github.com/yuche/javascript#comments"}),(0,t.jsx)(e.br,{}),"\n",(0,t.jsx)(e.a,{href:"https://zhuanlan.zhihu.com/p/37922974",children:"https://zhuanlan.zhihu.com/p/37922974"})]})]})}function u(n={}){const{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},11151:(n,e,r)=>{r.d(e,{Z:()=>c,a:()=>l});var t=r(67294);const s={},i=t.createContext(s);function l(n){const e=t.useContext(i);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);