"use strict";(self.webpackChunkfn_wang_10_github_io=self.webpackChunkfn_wang_10_github_io||[]).push([[53232],{99683:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>u,metadata:()=>p,toc:()=>i});var n=t(74848),o=t(28453);const u={},s=void 0,p={id:"Vue3/vue3\u6587\u6863/vuex",title:"vuex",description:"vuex(4 \u7248\u672c)",source:"@site/docs/Vue3/vue3\u6587\u6863/vuex.md",sourceDirName:"Vue3/vue3\u6587\u6863",slug:"/Vue3/vue3\u6587\u6863/vuex",permalink:"/docs/Vue3/vue3\u6587\u6863/vuex",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"vue3Sidebar",previous:{title:"vue3",permalink:"/docs/Vue3/vue3\u6587\u6863/vue3"},next:{title:"\u57fa\u7840\u8bed\u6cd5",permalink:"/docs/Vue3/vue3\u6587\u6863/\u57fa\u7840\u8bed\u6cd5"}},c={},i=[{value:"vuex(4 \u7248\u672c)",id:"vuex4-\u7248\u672c",level:2},{value:"useStore",id:"usestore",level:2}];function a(e){const r={br:"br",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h2,{id:"vuex4-\u7248\u672c",children:"vuex(4 \u7248\u672c)"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-javascript",children:'import { createStore } from "vuex"; //\u89e3\u6784\r\n\r\n// \u521b\u5efa\u4ed3\u5e93\r\nconst store = createStore({\r\n  state: {\r\n    count: 100,\r\n  },\r\n  getters: {},\r\n  mutations: {\r\n    addCount(state) {\r\n      state.count++;\r\n    },\r\n  },\r\n  actions: {},\r\n  modules: {},\r\n});\r\nexport default store; //\u66b4\u9732\u4ed3\u5e93\n'})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-javascript",children:'import { createApp } from "vue";\r\n// import App from "./App.vue";\r\n// import App from "./01-Setup.vue";\r\n// import App from "./02-SetupTodolist.vue";\r\n// import App from "./03-LifeCycle.vue";\r\n// import App from "./04-watch.vue";\r\n// import App from "./05-computed.vue";\r\n// import App from "./06-components-father.vue";\r\n// import App from "./08-reactive.vue";\r\n// import App from "./09-Provide-Inject\u4f9d\u8d56\u6ce8\u5165.vue";\r\n// import App from "./11-router.vue";\r\nimport App from "./12-vuex.vue";\r\n\r\nimport router from "./router"; // \u5f15\u5165\u8def\u7531\r\nimport store from "./store"; // \u5f15\u5165\u4ed3\u5e93\r\n\r\ncreateApp(App).use(router).use(store).mount("#app"); //\u4f7f\u7528\u8def\u7531\u548c\u4ed3\u5e93\n'})}),"\n",(0,n.jsx)(r.h2,{id:"usestore",children:"useStore"}),"\n",(0,n.jsxs)(r.p,{children:["useStore \u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u6267\u884c\u65f6\u8fd4\u56de\u4e00\u4e2a\u4ed3\u5e93\u5b9e\u4f8b",(0,n.jsx)(r.br,{}),"\n","useStore \u8c03\u7528\u65f6\u4e5f\u8981\u5199\u9876\u5c42\uff08\u5728 setup \u91cc\u9762\u7684\u7b2c\u4e00\u5c42\uff09",(0,n.jsx)(r.br,{}),"\n","setup \u91cc\u9762\u6ca1\u6cd5\u4f7f\u7528\u8f85\u52a9\u51fd\u6570"]}),"\n",(0,n.jsx)(r.p,{children:"\u4f7f\u7528\u4ed3\u5e93\u4e2d\u7684 state \u6570\u636e\u9700\u8981\u4f7f\u7528 computed \u8ba1\u7b97\u5c5e\u6027"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-javascript",children:'<template>\r\n    <div>\r\n        <h3>\u7ec4\u5408zpi-vuex</h3>\r\n        <p>{{ count }}</p>\r\n        <button @click="fn">\u70b9\u51fb</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// useStore\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u6267\u884c\u65f6\u8fd4\u56de\u4e00\u4e2a\u4ed3\u5e93\u5b9e\u4f8b\r\n// useStore\u8c03\u7528\u65f6\u4e5f\u8981\u5199\u9876\u5c42\uff08\u5728setup\u91cc\u9762\u7684\u7b2c\u4e00\u5c42\uff09\r\n// setup\u91cc\u9762\u6ca1\u6cd5\u4f7f\u7528\u8f85\u52a9\u51fd\u6570\r\nimport {useStore} from "vuex";\r\nimport {computed} from "vue";\r\nexport default {\r\n    setup(){\r\n        const store=useStore();\r\n        // \u4f7f\u7528\u4ed3\u5e93\u4e2d\u7684state\u6570\u636e\u9700\u8981\u4f7f\u7528computed\u8ba1\u7b97\u5c5e\u6027\r\n        // const count=computed(()=>{\r\n        //     return store.state.count;\r\n        // });\r\n        // const fn=()=>{\r\n        //     store.commit("addCount");\r\n        // };\r\n        // return {\r\n        //     count,\r\n        //     fn,\r\n        // }\r\n\r\n        // \u4e0b\u9762\u7684\u5199\u6cd5\u7b49\u540c\u4e8e\u4e0a\u9762\u7684\u5199\u6cd5\r\n        return {\r\n            count:computed(()=>{\r\n            return store.state.count;\r\n        }),\r\n            fn:()=>{\r\n            store.commit("addCount");\r\n        },\r\n        }\r\n    }\r\n}\r\n<\/script>\n'})})]})}function m(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},28453:(e,r,t)=>{t.d(r,{R:()=>s,x:()=>p});var n=t(96540);const o={},u=n.createContext(o);function s(e){const r=n.useContext(u);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function p(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(u.Provider,{value:r},e.children)}}}]);