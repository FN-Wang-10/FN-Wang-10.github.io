"use strict";(self.webpackChunkfn_wang_10_github_io=self.webpackChunkfn_wang_10_github_io||[]).push([[37067],{96287:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>d,default:()=>o,frontMatter:()=>c,metadata:()=>a,toc:()=>t});var r=s(74848),l=s(28453);const c={},d=void 0,a={id:"Es6/set,map\u6570\u636e\u7ed3\u6784",title:"set,map\u6570\u636e\u7ed3\u6784",description:"Set \u5bf9\u8c61\u7c7b\u4f3c\u4e8e\u6570\u7ec4\uff0c\u4e14\u6210\u5458\u7684\u503c\u90fd\u662f\u552f\u4e00\u7684",source:"@site/docs/Es6/set,map\u6570\u636e\u7ed3\u6784.md",sourceDirName:"Es6",slug:"/Es6/set,map\u6570\u636e\u7ed3\u6784",permalink:"/docs/Es6/set,map\u6570\u636e\u7ed3\u6784",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"es6Sidebar",previous:{title:"\u4ec0\u4e48\u662fpromise",permalink:"/docs/Es6/promise/\u4ec0\u4e48\u662fpromise"},next:{title:"static\u6709\u4ec0\u4e48\u7279\u6027",permalink:"/docs/Es6/static\u6709\u4ec0\u4e48\u7279\u6027"}},i={},t=[{value:"Set",id:"set",level:2},{value:"Map",id:"map",level:2},{value:"\u4e00\u3001Set",id:"\u4e00set",level:2},{value:"\u589e\u5220\u6539\u67e5",id:"\u589e\u5220\u6539\u67e5",level:3},{value:"add()",id:"add",level:3},{value:"delete()",id:"delete",level:3},{value:"has()",id:"has",level:3},{value:"clear()",id:"clear",level:3},{value:"\u904d\u5386",id:"\u904d\u5386",level:3},{value:"\u4e8c\u3001Map",id:"\u4e8cmap",level:2},{value:"\u589e\u5220\u6539\u67e5",id:"\u589e\u5220\u6539\u67e5-1",level:3},{value:"size",id:"size",level:3},{value:"set()",id:"set-1",level:3},{value:"get()",id:"get",level:3},{value:"has()",id:"has-1",level:3},{value:"delete()",id:"delete-1",level:3},{value:"clear()",id:"clear-1",level:3},{value:"\u904d\u5386",id:"\u904d\u5386-1",level:3},{value:"\u4e09\u3001WeakSet \u548c WeakMap",id:"\u4e09weakset-\u548c-weakmap",level:2},{value:"WeakSet",id:"weakset",level:3},{value:"WeakMap",id:"weakmap",level:3},{value:"\u53c2\u8003\u6587\u732e",id:"\u53c2\u8003\u6587\u732e",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Set \u5bf9\u8c61\u7c7b\u4f3c\u4e8e\u6570\u7ec4\uff0c\u4e14\u6210\u5458\u7684\u503c\u90fd\u662f\u552f\u4e00\u7684",(0,r.jsx)(n.br,{}),"\n","Map \u5bf9\u8c61\u662f\u952e\u503c\u5bf9\u96c6\u5408\uff0c\u548c JSON \u5bf9\u8c61\u7c7b\u4f3c\uff0c\u4f46\u662f key \u4e0d\u4ec5\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u8fd8\u53ef\u4ee5\u662f\u5176\u4ed6\u5404\u79cd\u7c7b\u578b\u7684\u503c\u5305\u62ec\u5bf9\u8c61\u90fd\u53ef\u4ee5\u6210\u4e3a Map \u7684\u952e"]}),"\n",(0,r.jsx)(n.h2,{id:"set",children:"Set"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["ES6 \u63d0\u4f9b\u4e86\u6570\u636e\u7ed3\u6784 Set. \u5b83\u7c7b\u4f3c\u4e8e\u6570\u7ec4\uff0c\u4f46\u662f\u6210\u5458\u7684\u503c\u90fd\u662f\u552f\u4e00\u7684\uff0c\u6ca1\u6709\u91cd\u590d\u7684\u503c\u3002",(0,r.jsx)(n.br,{}),"\n","Set \u672c\u8eab\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 Set \u6570\u636e\u7ed3\u6784\uff0c\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\u3002\u6bcf\u4e00\u9879\u5373\u662f\u952e\u4e5f\u662f\u503c,\u952e\u548c\u503c\u662f\u76f8\u540c\u7684\u3002",(0,r.jsx)(n.br,{}),"\n","\u7ed3\u6784\uff1a",(0,r.jsx)(n.code,{children:"let s1 = new Set([1, 2, 3, 4, 5])"})," \u7c7b\u6570\u7ec4 ",(0,r.jsx)(n.code,{children:"{1, 2, 3, 4, 5}"}),(0,r.jsx)(n.br,{}),"\n","\u7528 for...of \u904d\u5386",(0,r.jsx)(n.br,{}),"\n","\u53c2\u6570\uff1a\u6570\u7ec4",(0,r.jsx)(n.br,{}),"\n","\u8fd4\u56de\u503c\uff1a",(0,r.jsx)(n.code,{children:"{1, 2, 3, 4, 5}"})," \u65e2\u4e0d\u662f\u5bf9\u8c61\u4e5f\u4e0d\u662f\u6570\u7ec4",(0,r.jsx)(n.br,{}),"\n","size \u5c5e\u6027\u2014\u2014\u2014\u2014\u83b7\u53d6 set \u7ed3\u6784\u7684\u957f\u5ea6"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u6570\u7ec4\u53bb\u91cd"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"let arr = [1, 2, 3, 4, 5, 1, 2, 3, 4, 5];\r\nlet s1 = new Set(arr);\r\nconsole.log(s1); //{1, 2, 3, 4, 5}\r\nconsole.log(typeof s1);\r\nobject;\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u539f\u578b\u65b9\u6cd5"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["add(value)\uff1a\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u503c\u5230 Set \u4e2d\u3002\u5982\u679c Set \u4e2d\u5df2\u7ecf\u5b58\u5728\u8be5\u503c\uff0c\u5219\u4e0d\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\u3002",(0,r.jsx)(n.br,{}),"\n","delete(value)\uff1a\u5220\u9664 Set \u4e2d\u7684\u4e00\u4e2a\u503c\u3002\u5982\u679c Set \u4e2d\u4e0d\u5b58\u5728\u8be5\u503c\uff0c\u5219\u8fd4\u56de false\u3002",(0,r.jsx)(n.br,{}),"\n","has(value)\uff1a\u5224\u65ad Set \u4e2d\u662f\u5426\u5305\u542b\u67d0\u4e2a\u503c\u3002",(0,r.jsx)(n.br,{}),"\n","get(value)\uff1a\u8fd4\u56de Set \u4e2d\u6307\u5b9a\u503c\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u3002",(0,r.jsx)(n.br,{}),"\n","clear()\uff1a\u6e05\u7a7a Set\uff0c\u5220\u9664\u5176\u4e2d\u6240\u6709\u7684\u503c\u3002",(0,r.jsx)(n.br,{}),"\n","size\uff1a\u8fd4\u56de Set \u4e2d\u7684\u503c\u7684\u6570\u91cf\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"map",children:"Map"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["JavaScript \u7684\u5bf9\u8c61\uff08Object\uff09\uff0c\u53ea\u80fd\u7528\u5b57\u7b26\u4e32\u5f53\u4f5c\u952e,\u8fd9\u7ed9\u5b83\u7684\u4f7f\u7528\u5e26\u6765\u4e86\u5f88\u5927\u7684\u9650\u5236\u3002",(0,r.jsx)(n.br,{}),"\n","ES6 \u63d0\u4f9b\u4e86 Map \u6570\u636e\u7ed3\u6784\u3002",(0,r.jsx)(n.br,{}),"\n","\u5b83\u7c7b\u4f3c\u4e8e\u5bf9\u8c61\uff0c\u4f46\u662f\u201c\u952e\u201d\u7684\u8303\u56f4\u4e0d\u9650\u4e8e\u5b57\u7b26\u4e32\uff0c \u5404\u79cd\u7c7b\u578b\u7684\u503c\uff08 \u5305\u62ec\u5bf9\u8c61\uff09 \u90fd\u53ef\u4ee5\u5f53\u4f5c\u952e\u3002 Symbol \u7c7b\u578b\u5f53\u4f5c key \u8f93\u51fa\u65f6 \u65e0\u6cd5\u786e\u8ba4\u662f\u540c\u4e00\u4e2a key."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const myMap = new Map([\r\n  ["one", 1],\r\n  ["two", 2],\r\n  ["three", 3],\r\n  ["four", 4],\r\n]);\r\nconsole.log(typeof m1); //object\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u539f\u578b\u65b9\u6cd5"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Map.set(key, value)\uff1a\u7528\u4e8e\u8bbe\u7f6e Map \u4e2d\u7684\u4e00\u4e2a\u952e\u503c\u5bf9\uff0c\u5176\u4e2d key \u53ef\u4ee5\u662f\u4efb\u4f55\u6570\u636e\u7c7b\u578b\uff0cvalue \u53ef\u4ee5\u662f\u4efb\u4f55\u503c\u3002",(0,r.jsx)(n.br,{}),"\n","Map.get(key)\uff1a\u7528\u4e8e\u83b7\u53d6 Map \u4e2d\u6307\u5b9a\u952e\uff08key\uff09\u5bf9\u5e94\u7684\u503c\uff08value\uff09\u3002",(0,r.jsx)(n.br,{}),"\n","Map.has(key)\uff1a\u7528\u4e8e\u5224\u65ad Map \u4e2d\u662f\u5426\u5b58\u5728\u6307\u5b9a\u952e\uff08key\uff09\u7684\u952e\u503c\u5bf9\u3002",(0,r.jsx)(n.br,{}),"\n","Map.delete(key)\uff1a\u7528\u4e8e\u5220\u9664 Map \u4e2d\u6307\u5b9a\u952e\uff08key\uff09\u7684\u952e\u503c\u5bf9\u3002",(0,r.jsx)(n.br,{}),"\n","Map.size\uff1a\u7528\u4e8e\u83b7\u53d6 Map \u4e2d\u7684\u952e\u503c\u5bf9\u6570\u91cf\u3002",(0,r.jsx)(n.br,{}),"\n","Map.clear()\uff1a\u7528\u4e8e\u6e05\u7a7a Map \u4e2d\u7684\u6240\u6709\u952e\u503c\u5bf9\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u679c\u8981\u7528\u4e00\u53e5\u6765\u63cf\u8ff0\uff0c\u6211\u4eec\u53ef\u4ee5\u8bf4"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Set"}),"\u662f\u4e00\u79cd\u53eb\u505a\u96c6\u5408\u7684\u6570\u636e\u7ed3\u6784\uff0c",(0,r.jsx)(n.code,{children:"Map"}),"\u662f\u4e00\u79cd\u53eb\u505a\u5b57\u5178\u7684\u6570\u636e\u7ed3\u6784"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ec0\u4e48\u662f\u96c6\u5408\uff1f\u4ec0\u4e48\u53c8\u662f\u5b57\u5178\uff1f"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u96c6\u5408\r\n\u662f\u7531\u4e00\u5806\u65e0\u5e8f\u7684\u3001\u76f8\u5173\u8054\u7684\uff0c\u4e14\u4e0d\u91cd\u590d\u7684\u5185\u5b58\u7ed3\u6784\u3010\u6570\u5b66\u4e2d\u79f0\u4e3a\u5143\u7d20\u3011\u7ec4\u6210\u7684\u7ec4\u5408"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5b57\u5178\r\n\u662f\u4e00\u4e9b\u5143\u7d20\u7684\u96c6\u5408\u3002\u6bcf\u4e2a\u5143\u7d20\u6709\u4e00\u4e2a\u79f0\u4f5c key \u7684\u57df\uff0c\u4e0d\u540c\u5143\u7d20\u7684 key \u5404\u4e0d\u76f8\u540c"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u533a\u522b\uff1f"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5171\u540c\u70b9\uff1a\u96c6\u5408\u3001\u5b57\u5178\u90fd\u53ef\u4ee5\u5b58\u50a8\u4e0d\u91cd\u590d\u7684\u503c"}),"\n",(0,r.jsx)(n.li,{children:"\u4e0d\u540c\u70b9\uff1a\u96c6\u5408\u662f\u4ee5[\u503c\uff0c\u503c]\u7684\u5f62\u5f0f\u5b58\u50a8\u5143\u7d20\uff0c\u5b57\u5178\u662f\u4ee5[\u952e\uff0c\u503c]\u7684\u5f62\u5f0f\u5b58\u50a8"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u4e00set",children:"\u4e00\u3001Set"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:" Set"}),"\u662f",(0,r.jsx)(n.code,{children:"es6"}),"\u65b0\u589e\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7c7b\u4f3c\u4e8e\u6570\u7ec4\uff0c\u4f46\u662f\u6210\u5458\u7684\u503c\u90fd\u662f\u552f\u4e00\u7684\uff0c\u6ca1\u6709\u91cd\u590d\u7684\u503c\uff0c\u6211\u4eec\u4e00\u822c\u79f0\u4e3a\u96c6\u5408"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Set"}),"\u672c\u8eab\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 Set \u6570\u636e\u7ed3\u6784"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const s = new Set();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u589e\u5220\u6539\u67e5",children:"\u589e\u5220\u6539\u67e5"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Set"}),"\u7684\u5b9e\u4f8b\u5173\u4e8e\u589e\u5220\u6539\u67e5\u7684\u65b9\u6cd5\uff1a"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"add()"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"delete()"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"has()"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"clear()"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"add",children:"add()"}),"\n",(0,r.jsxs)(n.p,{children:["\u6dfb\u52a0\u67d0\u4e2a\u503c\uff0c\u8fd4\u56de ",(0,r.jsx)(n.code,{children:"Set"})," \u7ed3\u6784\u672c\u8eab"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5f53\u6dfb\u52a0\u5b9e\u4f8b\u4e2d\u5df2\u7ecf\u5b58\u5728\u7684\u5143\u7d20\uff0c",(0,r.jsx)(n.code,{children:"set"}),"\u4e0d\u4f1a\u8fdb\u884c\u5904\u7406\u6dfb\u52a0"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"s.add(1).add(2).add(2); // 2\u53ea\u88ab\u6dfb\u52a0\u4e86\u4e00\u6b21\n"})}),"\n",(0,r.jsx)(n.h3,{id:"delete",children:"delete()"}),"\n",(0,r.jsx)(n.p,{children:"\u5220\u9664\u67d0\u4e2a\u503c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5220\u9664\u662f\u5426\u6210\u529f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"s.delete(1);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"has",children:"has()"}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u5224\u65ad\u8be5\u503c\u662f\u5426\u4e3a",(0,r.jsx)(n.code,{children:"Set"}),"\u7684\u6210\u5458"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"s.has(2);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"clear",children:"clear()"}),"\n",(0,r.jsx)(n.p,{children:"\u6e05\u9664\u6240\u6709\u6210\u5458\uff0c\u6ca1\u6709\u8fd4\u56de\u503c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"s.clear();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u904d\u5386",children:"\u904d\u5386"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Set"}),"\u5b9e\u4f8b\u904d\u5386\u7684\u65b9\u6cd5\u6709\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(n.p,{children:"\u5173\u4e8e\u904d\u5386\u7684\u65b9\u6cd5\uff0c\u6709\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"keys()\uff1a\u8fd4\u56de\u952e\u540d\u7684\u904d\u5386\u5668"}),"\n",(0,r.jsx)(n.li,{children:"values()\uff1a\u8fd4\u56de\u952e\u503c\u7684\u904d\u5386\u5668"}),"\n",(0,r.jsx)(n.li,{children:"entries()\uff1a\u8fd4\u56de\u952e\u503c\u5bf9\u7684\u904d\u5386\u5668"}),"\n",(0,r.jsx)(n.li,{children:"forEach()\uff1a\u4f7f\u7528\u56de\u8c03\u51fd\u6570\u904d\u5386\u6bcf\u4e2a\u6210\u5458"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Set"}),"\u7684\u904d\u5386\u987a\u5e8f\u5c31\u662f\u63d2\u5165\u987a\u5e8f"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"keys"}),"\u65b9\u6cd5\u3001",(0,r.jsx)(n.code,{children:"values"}),"\u65b9\u6cd5\u3001",(0,r.jsx)(n.code,{children:"entries"}),"\u65b9\u6cd5\u8fd4\u56de\u7684\u90fd\u662f\u904d\u5386\u5668\u5bf9\u8c61"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'let set = new Set(["red", "green", "blue"]);\r\n\r\nfor (let item of set.keys()) {\r\n  console.log(item);\r\n}\r\n// red\r\n// green\r\n// blue\r\n\r\nfor (let item of set.values()) {\r\n  console.log(item);\r\n}\r\n// red\r\n// green\r\n// blue\r\n\r\nfor (let item of set.entries()) {\r\n  console.log(item);\r\n}\r\n// ["red", "red"]\r\n// ["green", "green"]\r\n// ["blue", "blue"]\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"forEach()"}),"\u7528\u4e8e\u5bf9\u6bcf\u4e2a\u6210\u5458\u6267\u884c\u67d0\u79cd\u64cd\u4f5c\uff0c\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u952e\u503c\u3001\u952e\u540d\u90fd\u76f8\u7b49\uff0c\u540c\u6837\u7684",(0,r.jsx)(n.code,{children:"forEach"}),"\u65b9\u6cd5\u6709\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7528\u4e8e\u7ed1\u5b9a\u5904\u7406\u51fd\u6570\u7684",(0,r.jsx)(n.code,{children:"this"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'let set = new Set([1, 4, 9]);\r\nset.forEach((value, key) => console.log(key + " : " + value));\r\n// 1 : 1\r\n// 4 : 4\r\n// 9 : 9\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u6269\u5c55\u8fd0\u7b97\u7b26\u548c",(0,r.jsx)(n.code,{children:" Set"})," \u7ed3\u6784\u76f8\u7ed3\u5408\u5b9e\u73b0\u6570\u7ec4\u6216\u5b57\u7b26\u4e32\u53bb\u91cd"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'// \u6570\u7ec4\r\nlet arr = [3, 5, 2, 2, 5, 5];\r\nlet unique = [...new Set(arr)]; // [3, 5, 2]\r\n\r\n// \u5b57\u7b26\u4e32\r\nlet str = "352255";\r\nlet unique = [...new Set(str)].join(""); // "352"\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u5b9e\u73b0\u5e76\u96c6\u3001\u4ea4\u96c6\u3001\u548c\u5dee\u96c6"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"let a = new Set([1, 2, 3]);\r\nlet b = new Set([4, 3, 2]);\r\n\r\n// \u5e76\u96c6\r\nlet union = new Set([...a, ...b]);\r\n// Set {1, 2, 3, 4}\r\n\r\n// \u4ea4\u96c6\r\nlet intersect = new Set([...a].filter((x) => b.has(x)));\r\n// set {2, 3}\r\n\r\n// \uff08a \u76f8\u5bf9\u4e8e b \u7684\uff09\u5dee\u96c6\r\nlet difference = new Set([...a].filter((x) => !b.has(x)));\r\n// Set {1}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4e8cmap",children:"\u4e8c\u3001Map"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Map"}),"\u7c7b\u578b\u662f\u952e\u503c\u5bf9\u7684\u6709\u5e8f\u5217\u8868\uff0c\u800c\u952e\u548c\u503c\u90fd\u53ef\u4ee5\u662f\u4efb\u610f\u7c7b\u578b"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Map"}),"\u672c\u8eab\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 ",(0,r.jsx)(n.code,{children:"Map"})," \u6570\u636e\u7ed3\u6784"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const m = new Map();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u589e\u5220\u6539\u67e5-1",children:"\u589e\u5220\u6539\u67e5"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Map"})," \u7ed3\u6784\u7684\u5b9e\u4f8b\u9488\u5bf9\u589e\u5220\u6539\u67e5\u6709\u4ee5\u4e0b\u5c5e\u6027\u548c\u64cd\u4f5c\u65b9\u6cd5\uff1a"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"size \u5c5e\u6027"}),"\n",(0,r.jsx)(n.li,{children:"set()"}),"\n",(0,r.jsx)(n.li,{children:"get()"}),"\n",(0,r.jsx)(n.li,{children:"has()"}),"\n",(0,r.jsx)(n.li,{children:"delete()"}),"\n",(0,r.jsx)(n.li,{children:"clear()"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"size",children:"size"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"size"}),"\u5c5e\u6027\u8fd4\u56de Map \u7ed3\u6784\u7684\u6210\u5458\u603b\u6570\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const map = new Map();\r\nmap.set("foo", true);\r\nmap.set("bar", false);\r\n\r\nmap.size; // 2\n'})}),"\n",(0,r.jsx)(n.h3,{id:"set-1",children:"set()"}),"\n",(0,r.jsxs)(n.p,{children:["\u8bbe\u7f6e\u952e\u540d",(0,r.jsx)(n.code,{children:"key"}),"\u5bf9\u5e94\u7684\u952e\u503c\u4e3a",(0,r.jsx)(n.code,{children:"value"}),"\uff0c\u7136\u540e\u8fd4\u56de\u6574\u4e2a Map \u7ed3\u6784"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679c",(0,r.jsx)(n.code,{children:"key"}),"\u5df2\u7ecf\u6709\u503c\uff0c\u5219\u952e\u503c\u4f1a\u88ab\u66f4\u65b0\uff0c\u5426\u5219\u5c31\u65b0\u751f\u6210\u8be5\u952e"]}),"\n",(0,r.jsxs)(n.p,{children:["\u540c\u65f6\u8fd4\u56de\u7684\u662f\u5f53\u524d",(0,r.jsx)(n.code,{children:"Map"}),"\u5bf9\u8c61\uff0c\u53ef\u91c7\u7528\u94fe\u5f0f\u5199\u6cd5"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const m = new Map();\r\n\r\nm.set("edition", 6); // \u952e\u662f\u5b57\u7b26\u4e32\r\nm.set(262, "standard"); // \u952e\u662f\u6570\u503c\r\nm.set(undefined, "nah"); // \u952e\u662f undefined\r\nm.set(1, "a").set(2, "b").set(3, "c"); // \u94fe\u5f0f\u64cd\u4f5c\n'})}),"\n",(0,r.jsx)(n.h3,{id:"get",children:"get()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"get"}),"\u65b9\u6cd5\u8bfb\u53d6",(0,r.jsx)(n.code,{children:"key"}),"\u5bf9\u5e94\u7684\u952e\u503c\uff0c\u5982\u679c\u627e\u4e0d\u5230",(0,r.jsx)(n.code,{children:"key"}),"\uff0c\u8fd4\u56de",(0,r.jsx)(n.code,{children:"undefined"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const m = new Map();\r\n\r\nconst hello = function () {\r\n  console.log("hello");\r\n};\r\nm.set(hello, "Hello ES6!"); // \u952e\u662f\u51fd\u6570\r\n\r\nm.get(hello); // Hello ES6!\n'})}),"\n",(0,r.jsx)(n.h3,{id:"has-1",children:"has()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"has"}),"\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u67d0\u4e2a\u952e\u662f\u5426\u5728\u5f53\u524d Map \u5bf9\u8c61\u4e4b\u4e2d"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const m = new Map();\r\n\r\nm.set("edition", 6);\r\nm.set(262, "standard");\r\nm.set(undefined, "nah");\r\n\r\nm.has("edition"); // true\r\nm.has("years"); // false\r\nm.has(262); // true\r\nm.has(undefined); // true\n'})}),"\n",(0,r.jsx)(n.h3,{id:"delete-1",children:"delete()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"delete"}),"\u65b9\u6cd5\u5220\u9664\u67d0\u4e2a\u952e\uff0c\u8fd4\u56de",(0,r.jsx)(n.code,{children:"true"}),"\u3002\u5982\u679c\u5220\u9664\u5931\u8d25\uff0c\u8fd4\u56de",(0,r.jsx)(n.code,{children:"false"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const m = new Map();\r\nm.set(undefined, "nah");\r\nm.has(undefined); // true\r\n\r\nm.delete(undefined);\r\nm.has(undefined); // false\n'})}),"\n",(0,r.jsx)(n.h3,{id:"clear-1",children:"clear()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"clear"}),"\u65b9\u6cd5\u6e05\u9664\u6240\u6709\u6210\u5458\uff0c\u6ca1\u6709\u8fd4\u56de\u503c"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'let map = new Map();\r\nmap.set("foo", true);\r\nmap.set("bar", false);\r\n\r\nmap.size; // 2\r\nmap.clear();\r\nmap.size; // 0\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u904d\u5386-1",children:"\u904d\u5386"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Map "}),"\u7ed3\u6784\u539f\u751f\u63d0\u4f9b\u4e09\u4e2a\u904d\u5386\u5668\u751f\u6210\u51fd\u6570\u548c\u4e00\u4e2a\u904d\u5386\u65b9\u6cd5\uff1a"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"keys()\uff1a\u8fd4\u56de\u952e\u540d\u7684\u904d\u5386\u5668"}),"\n",(0,r.jsx)(n.li,{children:"values()\uff1a\u8fd4\u56de\u952e\u503c\u7684\u904d\u5386\u5668"}),"\n",(0,r.jsx)(n.li,{children:"entries()\uff1a\u8fd4\u56de\u6240\u6709\u6210\u5458\u7684\u904d\u5386\u5668"}),"\n",(0,r.jsx)(n.li,{children:"forEach()\uff1a\u904d\u5386 Map \u7684\u6240\u6709\u6210\u5458"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u904d\u5386\u987a\u5e8f\u5c31\u662f\u63d2\u5165\u987a\u5e8f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const map = new Map([\r\n  ["F", "no"],\r\n  ["T", "yes"],\r\n]);\r\n\r\nfor (let key of map.keys()) {\r\n  console.log(key);\r\n}\r\n// "F"\r\n// "T"\r\n\r\nfor (let value of map.values()) {\r\n  console.log(value);\r\n}\r\n// "no"\r\n// "yes"\r\n\r\nfor (let item of map.entries()) {\r\n  console.log(item[0], item[1]);\r\n}\r\n// "F" "no"\r\n// "T" "yes"\r\n\r\n// \u6216\u8005\r\nfor (let [key, value] of map.entries()) {\r\n  console.log(key, value);\r\n}\r\n// "F" "no"\r\n// "T" "yes"\r\n\r\n// \u7b49\u540c\u4e8e\u4f7f\u7528map.entries()\r\nfor (let [key, value] of map) {\r\n  console.log(key, value);\r\n}\r\n// "F" "no"\r\n// "T" "yes"\r\n\r\nmap.forEach(function (value, key, map) {\r\n  console.log("Key: %s, Value: %s", key, value);\r\n});\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u4e09weakset-\u548c-weakmap",children:"\u4e09\u3001WeakSet \u548c WeakMap"}),"\n",(0,r.jsx)(n.h3,{id:"weakset",children:"WeakSet"}),"\n",(0,r.jsxs)(n.p,{children:["\u521b\u5efa",(0,r.jsx)(n.code,{children:"WeakSet"}),"\u5b9e\u4f8b"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const ws = new WeakSet();\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"WeakSet "}),"\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u5177\u6709 ",(0,r.jsx)(n.code,{children:"Iterable "}),"\u63a5\u53e3\u7684\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const a = [\r\n  [1, 2],\r\n  [3, 4],\r\n];\r\nconst ws = new WeakSet(a);\r\n// WeakSet {[1, 2], [3, 4]}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5728",(0,r.jsx)(n.code,{children:"API"}),"\u4e2d",(0,r.jsx)(n.code,{children:"WeakSet"}),"\u4e0e",(0,r.jsx)(n.code,{children:"Set"}),"\u6709\u4e24\u4e2a\u533a\u522b\uff1a"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u6ca1\u6709\u904d\u5386\u64cd\u4f5c\u7684",(0,r.jsx)(n.code,{children:"API"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u6ca1\u6709",(0,r.jsx)(n.code,{children:"size"}),"\u5c5e\u6027"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"WeakSet"}),"\u53ea\u80fd\u6210\u5458\u53ea\u80fd\u662f\u5f15\u7528\u7c7b\u578b\uff0c\u800c\u4e0d\u80fd\u662f\u5176\u4ed6\u7c7b\u578b\u7684\u503c"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"let ws = new WeakSet();\r\n\r\n// \u6210\u5458\u4e0d\u662f\u5f15\u7528\u7c7b\u578b\r\nlet weakSet = new WeakSet([2, 3]);\r\nconsole.log(weakSet); // \u62a5\u9519\r\n\r\n// \u6210\u5458\u4e3a\u5f15\u7528\u7c7b\u578b\r\nlet obj1 = { name: 1 };\r\nlet obj2 = { name: 1 };\r\nlet ws = new WeakSet([obj1, obj2]);\r\nconsole.log(ws); //WeakSet {{\u2026}, {\u2026}}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"WeakSet "}),"\u91cc\u9762\u7684\u5f15\u7528\u53ea\u8981\u5728\u5916\u90e8\u6d88\u5931\uff0c\u5b83\u5728 ",(0,r.jsx)(n.code,{children:"WeakSet "}),"\u91cc\u9762\u7684\u5f15\u7528\u5c31\u4f1a\u81ea\u52a8\u6d88\u5931"]}),"\n",(0,r.jsx)(n.h3,{id:"weakmap",children:"WeakMap"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"WeakMap"}),"\u7ed3\u6784\u4e0e",(0,r.jsx)(n.code,{children:"Map"}),"\u7ed3\u6784\u7c7b\u4f3c\uff0c\u4e5f\u662f\u7528\u4e8e\u751f\u6210\u952e\u503c\u5bf9\u7684\u96c6\u5408"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728",(0,r.jsx)(n.code,{children:"API"}),"\u4e2d",(0,r.jsx)(n.code,{children:"WeakMap"}),"\u4e0e",(0,r.jsx)(n.code,{children:"Map"}),"\u6709\u4e24\u4e2a\u533a\u522b\uff1a"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u6ca1\u6709\u904d\u5386\u64cd\u4f5c\u7684",(0,r.jsx)(n.code,{children:"API"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u6ca1\u6709",(0,r.jsx)(n.code,{children:"clear"}),"\u6e05\u7a7a\u65b9\u6cd5"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'// WeakMap \u53ef\u4ee5\u4f7f\u7528 set \u65b9\u6cd5\u6dfb\u52a0\u6210\u5458\r\nconst wm1 = new WeakMap();\r\nconst key = { foo: 1 };\r\nwm1.set(key, 2);\r\nwm1.get(key); // 2\r\n\r\n// WeakMap \u4e5f\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6570\u7ec4\uff0c\r\n// \u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\r\nconst k1 = [1, 2, 3];\r\nconst k2 = [4, 5, 6];\r\nconst wm2 = new WeakMap([\r\n  [k1, "foo"],\r\n  [k2, "bar"],\r\n]);\r\nwm2.get(k2); // "bar"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"WeakMap"}),"\u53ea\u63a5\u53d7\u5bf9\u8c61\u4f5c\u4e3a\u952e\u540d\uff08",(0,r.jsx)(n.code,{children:"null"}),"\u9664\u5916\uff09\uff0c\u4e0d\u63a5\u53d7\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u4f5c\u4e3a\u952e\u540d"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const map = new WeakMap();\r\nmap.set(1, 2);\r\n// TypeError: 1 is not an object!\r\nmap.set(Symbol(), 2);\r\n// TypeError: Invalid value used as weak map key\r\nmap.set(null, 2);\r\n// TypeError: Invalid value used as weak map key\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"WeakMap"}),"\u7684\u952e\u540d\u6240\u6307\u5411\u7684\u5bf9\u8c61\uff0c\u4e00\u65e6\u4e0d\u518d\u9700\u8981\uff0c\u91cc\u9762\u7684\u952e\u540d\u5bf9\u8c61\u548c\u6240\u5bf9\u5e94\u7684\u952e\u503c\u5bf9\u4f1a\u81ea\u52a8\u6d88\u5931\uff0c\u4e0d\u7528\u624b\u52a8\u5220\u9664\u5f15\u7528"]}),"\n",(0,r.jsx)(n.p,{children:"\u4e3e\u4e2a\u573a\u666f\u4f8b\u5b50\uff1a"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u7f51\u9875\u7684 DOM \u5143\u7d20\u4e0a\u6dfb\u52a0\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528",(0,r.jsx)(n.code,{children:"WeakMap"}),"\u7ed3\u6784\uff0c\u5f53\u8be5 DOM \u5143\u7d20\u88ab\u6e05\u9664\uff0c\u5176\u6240\u5bf9\u5e94\u7684",(0,r.jsx)(n.code,{children:"WeakMap"}),"\u8bb0\u5f55\u5c31\u4f1a\u81ea\u52a8\u88ab\u79fb\u9664"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const wm = new WeakMap();\r\n\r\nconst element = document.getElementById("example");\r\n\r\nwm.set(element, "some information");\r\nwm.get(element); // "some information"\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u6ce8\u610f\uff1a",(0,r.jsx)(n.code,{children:"WeakMap"})," \u5f31\u5f15\u7528\u7684\u53ea\u662f\u952e\u540d\uff0c\u800c\u4e0d\u662f\u952e\u503c\u3002\u952e\u503c\u4f9d\u7136\u662f\u6b63\u5e38\u5f15\u7528"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4e0b\u9762\u4ee3\u7801\u4e2d\uff0c\u952e\u503c",(0,r.jsx)(n.code,{children:"obj"}),"\u4f1a\u5728",(0,r.jsx)(n.code,{children:"WeakMap"}),"\u4ea7\u751f\u65b0\u7684\u5f15\u7528\uff0c\u5f53\u4f60\u4fee\u6539",(0,r.jsx)(n.code,{children:"obj"}),"\u4e0d\u4f1a\u5f71\u54cd\u5230\u5185\u90e8"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const wm = new WeakMap();\r\nlet key = {};\r\nlet obj = { foo: 1 };\r\n\r\nwm.set(key, obj);\r\nobj = null;\r\nwm.get(key);\r\n// Object {foo: 1}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u53c2\u8003\u6587\u732e",children:"\u53c2\u8003\u6587\u732e"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://es6.ruanyifeng.com/#docs/set-map",children:"https://es6.ruanyifeng.com/#docs/set-map"})}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>a});var r=s(96540);const l={},c=r.createContext(l);function d(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);