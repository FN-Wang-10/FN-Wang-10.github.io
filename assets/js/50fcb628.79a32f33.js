"use strict";(self.webpackChunkfn_wang_10_github_io=self.webpackChunkfn_wang_10_github_io||[]).push([[39235],{64098:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>d});var i=e(85893),s=e(11151);const t={},c=void 0,o={id:"React/React \u7ec4\u4ef6\u95f4\u8fc7\u6e21\u52a8\u753b\u5982\u4f55\u5b9e\u73b0",title:"React \u7ec4\u4ef6\u95f4\u8fc7\u6e21\u52a8\u753b\u5982\u4f55\u5b9e\u73b0",description:"\u4e00\u3001\u662f\u4ec0\u4e48",source:"@site/docs/React/React \u7ec4\u4ef6\u95f4\u8fc7\u6e21\u52a8\u753b\u5982\u4f55\u5b9e\u73b0.md",sourceDirName:"React",slug:"/React/React \u7ec4\u4ef6\u95f4\u8fc7\u6e21\u52a8\u753b\u5982\u4f55\u5b9e\u73b0",permalink:"/docs/React/React \u7ec4\u4ef6\u95f4\u8fc7\u6e21\u52a8\u753b\u5982\u4f55\u5b9e\u73b0",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"reactSidebar",previous:{title:"React \u7ec4\u4ef6\u4e4b\u95f4\u901a\u4fe1",permalink:"/docs/React/React \u7ec4\u4ef6\u4e4b\u95f4\u901a\u4fe1"},next:{title:"React",permalink:"/docs/React/"}},a={},d=[{value:"\u4e00\u3001\u662f\u4ec0\u4e48",id:"\u4e00\u662f\u4ec0\u4e48",level:2},{value:"\u4e8c\u3001\u5982\u4f55\u5b9e\u73b0",id:"\u4e8c\u5982\u4f55\u5b9e\u73b0",level:2},{value:"CSSTransition",id:"csstransition",level:3},{value:"SwitchTransition",id:"switchtransition",level:3},{value:"TransitionGroup",id:"transitiongroup",level:3},{value:"\u53c2\u8003\u6587\u732e",id:"\u53c2\u8003\u6587\u732e",level:2}];function l(n){const r={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h2,{id:"\u4e00\u662f\u4ec0\u4e48",children:"\u4e00\u3001\u662f\u4ec0\u4e48"}),"\n",(0,i.jsx)(r.p,{children:"\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\uff0c\u9875\u9762\u5207\u6362\u65f6\u7684\u8f6c\u573a\u52a8\u753b\u662f\u6bd4\u8f83\u57fa\u7840\u7684\u4e00\u4e2a\u573a\u666f"}),"\n",(0,i.jsx)(r.p,{children:"\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u5728\u663e\u793a\u4e0e\u6d88\u5931\u8fc7\u7a0b\u4e2d\u5b58\u5728\u8fc7\u6e21\u52a8\u753b\uff0c\u53ef\u4ee5\u5f88\u597d\u7684\u589e\u52a0\u7528\u6237\u7684\u4f53\u9a8c"}),"\n",(0,i.jsxs)(r.p,{children:["\u5728",(0,i.jsx)(r.code,{children:"react"}),"\u4e2d\u5b9e\u73b0\u8fc7\u6e21\u52a8\u753b\u6548\u679c\u4f1a\u6709\u5f88\u591a\u79cd\u9009\u62e9\uff0c\u5982",(0,i.jsx)(r.code,{children:"react-transition-group"}),"\uff0c",(0,i.jsx)(r.code,{children:"react-motion"}),"\uff0c",(0,i.jsx)(r.code,{children:"Animated"}),"\uff0c\u4ee5\u53ca\u539f\u751f\u7684",(0,i.jsx)(r.code,{children:"CSS"}),"\u90fd\u80fd\u5b8c\u6210\u5207\u6362\u52a8\u753b"]}),"\n",(0,i.jsx)(r.h2,{id:"\u4e8c\u5982\u4f55\u5b9e\u73b0",children:"\u4e8c\u3001\u5982\u4f55\u5b9e\u73b0"}),"\n",(0,i.jsxs)(r.p,{children:["\u5728",(0,i.jsx)(r.code,{children:"react"}),"\u4e2d\uff0c",(0,i.jsx)(r.code,{children:"react-transition-group"}),"\u662f\u4e00\u79cd\u5f88\u597d\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u5176\u4e3a\u5143\u7d20\u6dfb\u52a0",(0,i.jsx)(r.code,{children:"enter"}),"\uff0c",(0,i.jsx)(r.code,{children:"enter-active"}),"\uff0c",(0,i.jsx)(r.code,{children:"exit"}),"\uff0c",(0,i.jsx)(r.code,{children:"exit-active"}),"\u8fd9\u4e00\u7cfb\u5217\u52fe\u5b50"]}),"\n",(0,i.jsx)(r.p,{children:"\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u65b9\u4fbf\u7684\u5b9e\u73b0\u7ec4\u4ef6\u7684\u5165\u573a\u548c\u79bb\u573a\u52a8\u753b"}),"\n",(0,i.jsx)(r.p,{children:"\u5176\u4e3b\u8981\u63d0\u4f9b\u4e86\u4e09\u4e2a\u4e3b\u8981\u7684\u7ec4\u4ef6\uff1a"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"CSSTransition\uff1a\u5728\u524d\u7aef\u5f00\u53d1\u4e2d\uff0c\u7ed3\u5408 CSS \u6765\u5b8c\u6210\u8fc7\u6e21\u52a8\u753b\u6548\u679c"}),"\n",(0,i.jsx)(r.li,{children:"SwitchTransition\uff1a\u4e24\u4e2a\u7ec4\u4ef6\u663e\u793a\u548c\u9690\u85cf\u5207\u6362\u65f6\uff0c\u4f7f\u7528\u8be5\u7ec4\u4ef6"}),"\n",(0,i.jsx)(r.li,{children:"TransitionGroup\uff1a\u5c06\u591a\u4e2a\u52a8\u753b\u7ec4\u4ef6\u5305\u88f9\u5728\u5176\u4e2d\uff0c\u4e00\u822c\u7528\u4e8e\u5217\u8868\u4e2d\u5143\u7d20\u7684\u52a8\u753b"}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"csstransition",children:"CSSTransition"}),"\n",(0,i.jsxs)(r.p,{children:["\u5176\u5b9e\u73b0\u52a8\u753b\u7684\u539f\u7406\u5728\u4e8e\uff0c\u5f53",(0,i.jsx)(r.code,{children:"CSSTransition"}),"\u7684",(0,i.jsx)(r.code,{children:"in"}),"\u5c5e\u6027\u7f6e\u4e3a",(0,i.jsx)(r.code,{children:"true"}),"\u65f6\uff0c",(0,i.jsx)(r.code,{children:"CSSTransition"}),"\u9996\u5148\u4f1a\u7ed9\u5176\u5b50\u7ec4\u4ef6\u52a0\u4e0a",(0,i.jsx)(r.code,{children:"xxx-enter"}),"\u3001",(0,i.jsx)(r.code,{children:"xxx-enter-active"}),"\u7684",(0,i.jsx)(r.code,{children:"class"}),"\u6267\u884c\u52a8\u753b"]}),"\n",(0,i.jsxs)(r.p,{children:["\u5f53\u52a8\u753b\u6267\u884c\u7ed3\u675f\u540e\uff0c\u4f1a\u79fb\u9664\u4e24\u4e2a",(0,i.jsx)(r.code,{children:"class"}),"\uff0c\u5e76\u4e14\u6dfb\u52a0",(0,i.jsx)(r.code,{children:"-enter-done"}),"\u7684",(0,i.jsx)(r.code,{children:"class"})]}),"\n",(0,i.jsxs)(r.p,{children:["\u6240\u4ee5\u53ef\u4ee5\u5229\u7528\u8fd9\u4e00\u70b9\uff0c\u901a\u8fc7",(0,i.jsx)(r.code,{children:"css"}),"\u7684",(0,i.jsx)(r.code,{children:"transition"}),"\u5c5e\u6027\uff0c\u8ba9\u5143\u7d20\u5728\u4e24\u4e2a\u72b6\u6001\u4e4b\u95f4\u5e73\u6ed1\u8fc7\u6e21\uff0c\u4ece\u800c\u5f97\u5230\u76f8\u5e94\u7684\u52a8\u753b\u6548\u679c"]}),"\n",(0,i.jsxs)(r.p,{children:["\u5f53",(0,i.jsx)(r.code,{children:"in"}),"\u5c5e\u6027\u7f6e\u4e3a",(0,i.jsx)(r.code,{children:"false"}),"\u65f6\uff0c",(0,i.jsx)(r.code,{children:"CSSTransition"}),"\u4f1a\u7ed9\u5b50\u7ec4\u4ef6\u52a0\u4e0a",(0,i.jsx)(r.code,{children:"xxx-exit"}),"\u548c",(0,i.jsx)(r.code,{children:"xxx-exit-active"}),"\u7684",(0,i.jsx)(r.code,{children:"class"}),"\uff0c\u7136\u540e\u5f00\u59cb\u6267\u884c\u52a8\u753b\uff0c\u5f53\u52a8\u753b\u7ed3\u675f\u540e\uff0c\u79fb\u9664\u4e24\u4e2a",(0,i.jsx)(r.code,{children:"class"}),"\uff0c\u7136\u540e\u6dfb\u52a0",(0,i.jsx)(r.code,{children:"-enter-done"}),"\u7684",(0,i.jsx)(r.code,{children:"class"})]}),"\n",(0,i.jsx)(r.p,{children:"\u5982\u4e0b\u4f8b\u5b50\uff1a"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-jsx",children:'export default class App2 extends React.PureComponent {\r\n  state = { show: true };\r\n\r\n  onToggle = () => this.setState({ show: !this.state.show });\r\n\r\n  render() {\r\n    const { show } = this.state;\r\n    return (\r\n      <div className={"container"}>\r\n        <div className={"square-wrapper"}>\r\n          <CSSTransition\r\n            in={show}\r\n            timeout={500}\r\n            classNames={"fade"}\r\n            unmountOnExit={true}\r\n          >\r\n            <div className={"square"} />\r\n          </CSSTransition>\r\n        </div>\r\n        <Button onClick={this.onToggle}>toggle</Button>\r\n      </div>\r\n    );\r\n  }\r\n}\n'})}),"\n",(0,i.jsxs)(r.p,{children:["\u5bf9\u5e94",(0,i.jsx)(r.code,{children:"css"}),"\u6837\u5f0f\u5982\u4e0b\uff1a"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-css",children:".fade-enter {\r\n  opacity: 0;\r\n  transform: translateX(100%);\r\n}\r\n\r\n.fade-enter-active {\r\n  opacity: 1;\r\n  transform: translateX(0);\r\n  transition: all 500ms;\r\n}\r\n\r\n.fade-exit {\r\n  opacity: 1;\r\n  transform: translateX(0);\r\n}\r\n\r\n.fade-exit-active {\r\n  opacity: 0;\r\n  transform: translateX(-100%);\r\n  transition: all 500ms;\r\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"switchtransition",children:"SwitchTransition"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.code,{children:"SwitchTransition"}),"\u53ef\u4ee5\u5b8c\u6210\u4e24\u4e2a\u7ec4\u4ef6\u4e4b\u95f4\u5207\u6362\u7684\u70ab\u9177\u52a8\u753b"]}),"\n",(0,i.jsxs)(r.p,{children:["\u6bd4\u5982\u6709\u4e00\u4e2a\u6309\u94ae\u9700\u8981\u5728",(0,i.jsx)(r.code,{children:"on"}),"\u548c",(0,i.jsx)(r.code,{children:"off"}),"\u4e4b\u95f4\u5207\u6362\uff0c\u6211\u4eec\u5e0c\u671b\u770b\u5230",(0,i.jsx)(r.code,{children:"on"}),"\u5148\u4ece\u5de6\u4fa7\u9000\u51fa\uff0c",(0,i.jsx)(r.code,{children:"off"}),"\u518d\u4ece\u53f3\u4fa7\u8fdb\u5165"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.code,{children:"SwitchTransition"}),"\u4e2d\u4e3b\u8981\u6709\u4e00\u4e2a\u5c5e\u6027",(0,i.jsx)(r.code,{children:"mode"}),"\uff0c\u5bf9\u5e94\u4e24\u4e2a\u503c\uff1a"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"in-out\uff1a\u8868\u793a\u65b0\u7ec4\u4ef6\u5148\u8fdb\u5165\uff0c\u65e7\u7ec4\u4ef6\u518d\u79fb\u9664\uff1b"}),"\n",(0,i.jsx)(r.li,{children:"out-in\uff1a\u8868\u793a\u5c31\u7ec4\u4ef6\u5148\u79fb\u9664\uff0c\u65b0\u7ec4\u5efa\u518d\u8fdb\u5165"}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.code,{children:"SwitchTransition"}),"\u7ec4\u4ef6\u91cc\u9762\u8981\u6709",(0,i.jsx)(r.code,{children:"CSSTransition"}),"\uff0c\u4e0d\u80fd\u76f4\u63a5\u5305\u88f9\u4f60\u60f3\u8981\u5207\u6362\u7684\u7ec4\u4ef6"]}),"\n",(0,i.jsxs)(r.p,{children:["\u91cc\u9762\u7684",(0,i.jsx)(r.code,{children:"CSSTransition"}),"\u7ec4\u4ef6\u4e0d\u518d\u50cf\u4ee5\u524d\u90a3\u6837\u63a5\u53d7",(0,i.jsx)(r.code,{children:"in"}),"\u5c5e\u6027\u6765\u5224\u65ad\u5143\u7d20\u662f\u4f55\u79cd\u72b6\u6001\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u662f",(0,i.jsx)(r.code,{children:"key"}),"\u5c5e\u6027"]}),"\n",(0,i.jsx)(r.p,{children:"\u4e0b\u9762\u7ed9\u51fa\u4e00\u4e2a\u6309\u94ae\u5165\u573a\u548c\u51fa\u573a\u7684\u793a\u4f8b\uff0c\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-jsx",children:'import { SwitchTransition, CSSTransition } from "react-transition-group";\r\n\r\nexport default class SwitchAnimation extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOn: true,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { isOn } = this.state;\r\n\r\n    return (\r\n      <SwitchTransition mode="out-in">\r\n        <CSSTransition classNames="btn" timeout={500} key={isOn ? "on" : "off"}>\r\n          {\r\n            <button onClick={this.btnClick.bind(this)}>\r\n              {isOn ? "on" : "off"}\r\n            </button>\r\n          }\r\n        </CSSTransition>\r\n      </SwitchTransition>\r\n    );\r\n  }\r\n\r\n  btnClick() {\r\n    this.setState({ isOn: !this.state.isOn });\r\n  }\r\n}\n'})}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.code,{children:"css"}),"\u6587\u4ef6\u5bf9\u5e94\u5982\u4e0b\uff1a"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-css",children:".btn-enter {\r\n  transform: translate(100%, 0);\r\n  opacity: 0;\r\n}\r\n\r\n.btn-enter-active {\r\n  transform: translate(0, 0);\r\n  opacity: 1;\r\n  transition: all 500ms;\r\n}\r\n\r\n.btn-exit {\r\n  transform: translate(0, 0);\r\n  opacity: 1;\r\n}\r\n\r\n.btn-exit-active {\r\n  transform: translate(-100%, 0);\r\n  opacity: 0;\r\n  transition: all 500ms;\r\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"transitiongroup",children:"TransitionGroup"}),"\n",(0,i.jsxs)(r.p,{children:["\u5f53\u6709\u4e00\u7ec4\u52a8\u753b\u7684\u65f6\u5019\uff0c\u5c31\u53ef\u5c06\u8fd9\u4e9b",(0,i.jsx)(r.code,{children:"CSSTransition"}),"\u653e\u5165\u5230\u4e00\u4e2a",(0,i.jsx)(r.code,{children:"TransitionGroup"}),"\u4e2d\u6765\u5b8c\u6210\u52a8\u753b"]}),"\n",(0,i.jsxs)(r.p,{children:["\u540c\u6837",(0,i.jsx)(r.code,{children:"CSSTransition"}),"\u91cc\u9762\u6ca1\u6709",(0,i.jsx)(r.code,{children:"in"}),"\u5c5e\u6027\uff0c\u7528\u5230\u4e86",(0,i.jsx)(r.code,{children:"key"}),"\u5c5e\u6027"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.code,{children:"TransitionGroup"}),"\u5728\u611f\u77e5",(0,i.jsx)(r.code,{children:"children"}),"\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\uff0c\u5148\u4fdd\u5b58\u79fb\u9664\u7684\u8282\u70b9\uff0c\u5f53\u52a8\u753b\u7ed3\u675f\u540e\u624d\u771f\u6b63\u79fb\u9664"]}),"\n",(0,i.jsx)(r.p,{children:"\u5176\u5904\u7406\u65b9\u5f0f\u5982\u4e0b\uff1a"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"\u63d2\u5165\u7684\u8282\u70b9\uff0c\u5148\u6e32\u67d3 dom\uff0c\u7136\u540e\u518d\u505a\u52a8\u753b"}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"\u5220\u9664\u7684\u8282\u70b9\uff0c\u5148\u505a\u52a8\u753b\uff0c\u7136\u540e\u518d\u5220\u9664 dom"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-jsx",children:'import React, { PureComponent } from "react";\r\nimport { CSSTransition, TransitionGroup } from "react-transition-group";\r\n\r\nexport default class GroupAnimation extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      friends: [],\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <TransitionGroup>\r\n          {this.state.friends.map((item, index) => {\r\n            return (\r\n              <CSSTransition classNames="friend" timeout={300} key={index}>\r\n                <div>{item}</div>\r\n              </CSSTransition>\r\n            );\r\n          })}\r\n        </TransitionGroup>\r\n        <button onClick={(e) => this.addFriend()}>+friend</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  addFriend() {\r\n    this.setState({\r\n      friends: [...this.state.friends, "coderwhy"],\r\n    });\r\n  }\r\n}\n'})}),"\n",(0,i.jsxs)(r.p,{children:["\u5bf9\u5e94",(0,i.jsx)(r.code,{children:"css"}),"\u5982\u4e0b\uff1a"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-css",children:".friend-enter {\r\n  transform: translate(100%, 0);\r\n  opacity: 0;\r\n}\r\n\r\n.friend-enter-active {\r\n  transform: translate(0, 0);\r\n  opacity: 1;\r\n  transition: all 500ms;\r\n}\r\n\r\n.friend-exit {\r\n  transform: translate(0, 0);\r\n  opacity: 1;\r\n}\r\n\r\n.friend-exit-active {\r\n  transform: translate(-100%, 0);\r\n  opacity: 0;\r\n  transition: all 500ms;\r\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"\u53c2\u8003\u6587\u732e",children:"\u53c2\u8003\u6587\u732e"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"https://segmentfault.com/a/1190000018861018",children:"https://segmentfault.com/a/1190000018861018"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"https://mp.weixin.qq.com/s/14HneI7SpfrRHKtqgosIiA",children:"https://mp.weixin.qq.com/s/14HneI7SpfrRHKtqgosIiA"})}),"\n"]})]})}function h(n={}){const{wrapper:r}={...(0,s.a)(),...n.components};return r?(0,i.jsx)(r,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},11151:(n,r,e)=>{e.d(r,{Z:()=>o,a:()=>c});var i=e(67294);const s={},t=i.createContext(s);function c(n){const r=i.useContext(t);return i.useMemo((function(){return"function"==typeof n?n(r):{...r,...n}}),[r,n])}function o(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),i.createElement(t.Provider,{value:r},n.children)}}}]);